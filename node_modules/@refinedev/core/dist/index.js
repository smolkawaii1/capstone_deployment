var Ss=Object.create;var xr=Object.defineProperty;var Qs=Object.getOwnPropertyDescriptor;var ks=Object.getOwnPropertyNames;var Bs=Object.getPrototypeOf,Fs=Object.prototype.hasOwnProperty;var Vs=(e,t)=>{for(var r in t)xr(e,r,{get:t[r],enumerable:!0})},Rn=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ks(t))!Fs.call(e,n)&&n!==r&&xr(e,n,{get:()=>t[n],enumerable:!(o=Qs(t,n))||o.enumerable});return e};var S=(e,t,r)=>(r=e!=null?Ss(Bs(e)):{},Rn(t||!e||!e.__esModule?xr(r,"default",{value:e,enumerable:!0}):r,e)),Ns=e=>Rn(xr({},"__esModule",{value:!0}),e);var ii={};Vs(ii,{AuthPage:()=>Rs,Authenticated:()=>Ms,CanAccess:()=>Is,ErrorComponent:()=>ms,GitHubBanner:()=>As,LayoutWrapper:()=>Ls,LoginPage:()=>Lr,ReadyPage:()=>ao,Refine:()=>Es,ResourceContext:()=>Ze,RouteChangeHandler:()=>so,UndoableQueue:()=>No,WelcomePage:()=>xs,createTreeView:()=>So,file2Base64:()=>Nn,getDefaultFilter:()=>Vn,getDefaultSortOrder:()=>Fn,getNextPageParam:()=>Xt,getPreviousPageParam:()=>qt,handleUseParams:()=>Mo,importCSVMapper:()=>Gt,legacyResourceTransform:()=>er,matchResourceFromRoute:()=>Er,parseTableParams:()=>$t,parseTableParamsFromQuery:()=>Qn,pickNotDeprecated:()=>I,routeGenerator:()=>Jt,setInitialFilters:()=>jt,setInitialSorters:()=>Zt,stringifyTableParams:()=>zt,unionFilters:()=>dt,unionSorters:()=>_t,useActiveAuthProvider:()=>W,useApiUrl:()=>ta,useAuthenticated:()=>Un,useBack:()=>eo,useBreadcrumb:()=>ei,useCan:()=>rn,useCanWithoutCache:()=>Ys,useCancelNotification:()=>Be,useCheckError:()=>In,useCreate:()=>Ut,useCreateMany:()=>Fr,useCustom:()=>oa,useCustomMutation:()=>aa,useDataProvider:()=>Z,useDelete:()=>Zn,useDeleteMany:()=>ea,useExport:()=>Gs,useForgotPassword:()=>br,useForm:()=>$s,useGetIdentity:()=>Pr,useGetLocale:()=>Ia,useGetToPath:()=>St,useGo:()=>se,useHandleNotification:()=>re,useImport:()=>_s,useInfiniteList:()=>ua,useInvalidate:()=>Me,useIsAuthenticated:()=>Kt,useIsExistAuthentication:()=>vr,useLink:()=>ot,useList:()=>Dt,useLiveMode:()=>zo,useLog:()=>Le,useLogList:()=>qs,useLogin:()=>vt,useLogout:()=>Ht,useMany:()=>wr,useMenu:()=>ls,useMeta:()=>G,useModal:()=>js,useMutationMode:()=>Ae,useNavigation:()=>ae,useNotification:()=>Re,useOnError:()=>ee,useOne:()=>Et,useParse:()=>$r,useParsed:()=>Y,usePermissions:()=>hn,usePublish:()=>Ee,useRedirectionAfterSubmission:()=>qo,useRefineContext:()=>wt,useRegister:()=>Cr,useResource:()=>B,useResourceSubscription:()=>_e,useResourceWithRoute:()=>Je,useRouterContext:()=>_,useRouterType:()=>O,useSelect:()=>Js,useSetLocale:()=>Ua,useShow:()=>zs,useSubscription:()=>Ws,useSyncWithLocation:()=>Jr,useTable:()=>Xs,useTitle:()=>ka,useToPath:()=>$a,useTranslate:()=>V,useUpdate:()=>kr,useUpdateMany:()=>Xn,useUpdatePassword:()=>hr,useWarnAboutChange:()=>It,userFriendlyResourceName:()=>lt});module.exports=Ns(ii);var Ge=S(require("react"));var pt=S(require("react"));var xn=pt.default.createContext({}),Pn=({children:e,isProvided:t,...r})=>{let{replace:o}=ae(),n=async d=>{var l;try{return await((l=r.login)==null?void 0:l.call(r,d))}catch(m){return Promise.reject(m)}},s=async d=>{var l;try{return await((l=r.register)==null?void 0:l.call(r,d))}catch(m){return Promise.reject(m)}},a=async d=>{var l;try{return await((l=r.logout)==null?void 0:l.call(r,d))}catch(m){return Promise.reject(m)}},u=async d=>{var l;try{return await((l=r.checkAuth)==null?void 0:l.call(r,d)),Promise.resolve()}catch(m){return m!=null&&m.redirectPath&&o(m.redirectPath),Promise.reject(m)}};return pt.default.createElement(xn.Provider,{value:{...r,login:n,logout:a,checkAuth:u,register:s,isProvided:t}},e)},Cn=pt.default.createContext({}),bn=({children:e,isProvided:t,...r})=>{let o=async l=>{var m;try{return await((m=r.login)==null?void 0:m.call(r,l))}catch(p){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",p),Promise.reject(p)}},n=async l=>{var m;try{return await((m=r.register)==null?void 0:m.call(r,l))}catch(p){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",p),Promise.reject(p)}},s=async l=>{var m;try{return await((m=r.logout)==null?void 0:m.call(r,l))}catch(p){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",p),Promise.reject(p)}},a=async l=>{var m;try{let p=await((m=r.check)==null?void 0:m.call(r,l));return Promise.resolve(p)}catch(p){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",p),Promise.reject(p)}},u=async l=>{var m;try{let p=await((m=r.forgotPassword)==null?void 0:m.call(r,l));return Promise.resolve(p)}catch(p){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",p),Promise.reject(p)}},d=async l=>{var m;try{let p=await((m=r.updatePassword)==null?void 0:m.call(r,l));return Promise.resolve(p)}catch(p){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",p),Promise.reject(p)}};return pt.default.createElement(Cn.Provider,{value:{...r,login:o,logout:s,check:a,register:n,forgotPassword:u,updatePassword:d,isProvided:t}},e)},ne=()=>pt.default.useContext(xn),ue=()=>pt.default.useContext(Cn);var po=require("@tanstack/react-query");function hn({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=ne(),{getPermissions:o}=ue(),n=(0,po.useQuery)(["usePermissions"],o!=null?o:()=>Promise.resolve(void 0),{enabled:!e&&!!o,...e?{}:t}),s=(0,po.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?s:n}var lo=require("@tanstack/react-query");function Pr({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=ne(),{getIdentity:o}=ue(),n=(0,lo.useQuery)(["getUserIdentity"],o!=null?o:()=>Promise.resolve({}),{enabled:!e&&!!o,retry:!1,...e===!0?{}:t}),s=(0,lo.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?s:n}var fo=require("@tanstack/react-query");var vn=require("@tanstack/react-query"),ht=()=>{let e=(0,vn.useQueryClient)();return async()=>{await Promise.all([e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])])}};function Ht({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ht(),o=O(),n=se(),{push:s}=ae(),{open:a,close:u}=Re(),{logout:d}=ne(),{logout:l}=ue(),m=(0,fo.useMutation)(["useLogout"],l,{onSuccess:async(R,x)=>{let{success:D,error:M,redirectTo:i}=R,{redirectPath:g}=x!=null?x:{},y=g!=null?g:i;D&&(u==null||u("useLogout-error")),(M||!D)&&(a==null||a(mo(M))),await r(),y!==!1&&(o==="legacy"?s(y!=null?y:"/login"):y&&n({to:y}))},onError:R=>{a==null||a(mo(R))},...e===!0?{}:t}),p=(0,fo.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],d,{onSuccess:async(R,x)=>{var M;let D=(M=x==null?void 0:x.redirectPath)!=null?M:R;if(await r(),D!==!1){if(D){o==="legacy"?s(D):n({to:D});return}o==="legacy"?s("/login"):n({to:"/login"})}},onError:R=>{a==null||a(mo(R))},...e?t:{}});return e?p:m}var mo=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"});var Dn=S(require("react")),go=require("@tanstack/react-query"),En=S(require("qs"));function vt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ht(),o=O(),n=se(),{replace:s}=ae(),a=Y(),{useLocation:u}=_(),{search:d}=u(),{close:l,open:m}=Re(),{login:p}=ne(),{login:R}=ue(),x=Dn.default.useMemo(()=>{var i;return o==="legacy"?En.default.parse(d,{ignoreQueryPrefix:!0}).to:(i=a.params)==null?void 0:i.to},[o,a.params,d]),D=(0,go.useMutation)(["useLogin"],R,{onSuccess:async({success:i,redirectTo:g,error:y})=>{i&&(l==null||l("login-error")),(y||!i)&&(m==null||m(yo(y))),await r(),x&&i?o==="legacy"?s(x):n({to:x,type:"replace"}):g?o==="legacy"?s(g):n({to:g,type:"replace"}):o==="legacy"&&s("/")},onError:i=>{m==null||m(yo(i))},...e===!0?{}:t}),M=(0,go.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],p,{onSuccess:async i=>{await r(),x&&s(x),i!==!1&&!x&&(typeof i=="string"?o==="legacy"?s(i):n({to:i,type:"replace"}):o==="legacy"?s("/"):n({to:"/",type:"replace"})),l==null||l("login-error")},onError:i=>{m==null||m(yo(i))},...e?t:{}});return e?M:D}var yo=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"});var Ro=require("@tanstack/react-query");function Cr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ht(),o=O(),n=se(),{replace:s}=ae(),{register:a}=ne(),{register:u}=ue(),{close:d,open:l}=Re(),m=(0,Ro.useMutation)(["useRegister"],u,{onSuccess:async({success:R,redirectTo:x,error:D})=>{R&&(d==null||d("register-error")),(D||!R)&&(l==null||l(To(D))),await r(),x?o==="legacy"?s(x):n({to:x,type:"replace"}):o==="legacy"&&s("/")},onError:R=>{l==null||l(To(R))},...e===!0?{}:t}),p=(0,Ro.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],a,{onSuccess:async R=>{await r(),R!==!1&&(R?o==="legacy"?s(R):n({to:R,type:"replace"}):o==="legacy"?s("/"):n({to:"/",type:"replace"}),d==null||d("register-error"))},onError:R=>{l==null||l(To(R))},...e?t:{}});return e?p:m}var To=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"});var Po=require("@tanstack/react-query");function br({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=O(),o=se(),{replace:n}=ae(),{forgotPassword:s}=ne(),{forgotPassword:a}=ue(),{close:u,open:d}=Re(),l=(0,Po.useMutation)(["useForgotPassword"],a,{onSuccess:({success:p,redirectTo:R,error:x})=>{p&&(u==null||u("forgot-password-error")),(x||!p)&&(d==null||d(xo(x))),R&&(r==="legacy"?n(R):o({to:R,type:"replace"}))},onError:p=>{d==null||d(xo(p))},...e===!0?{}:t}),m=(0,Po.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],s,{onSuccess:p=>{p!==!1&&p&&(r==="legacy"?n(p):o({to:p,type:"replace"})),u==null||u("forgot-password-error")},onError:p=>{d==null||d(xo(p))},...e?t:{}});return e?m:l}var xo=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"});var Ln=S(require("react")),bo=require("@tanstack/react-query"),Mn=S(require("qs"));function hr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=O(),o=se(),{replace:n}=ae(),{updatePassword:s}=ne(),{updatePassword:a}=ue(),{close:u,open:d}=Re(),l=Y(),{useLocation:m}=_(),{search:p}=m(),R=Ln.default.useMemo(()=>{var M;if(r==="legacy"){let i=Mn.default.parse(p,{ignoreQueryPrefix:!0});return i!=null?i:{}}else return(M=l.params)!=null?M:{}},[p,l,r]),x=(0,bo.useMutation)(["useUpdatePassword"],async M=>a==null?void 0:a({...R,...M}),{onSuccess:({success:M,redirectTo:i,error:g})=>{M&&(u==null||u("update-password-error")),(g||!M)&&(d==null||d(Co(g))),i&&(r==="legacy"?n(i):o({to:i,type:"replace"}))},onError:M=>{d==null||d(Co(M))},...e===!0?{}:t}),D=(0,bo.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async M=>s==null?void 0:s({...R,...M}),{onSuccess:M=>{M!==!1&&M&&(r==="legacy"?n(M):o({to:M,type:"replace"})),u==null||u("update-password-error")},onError:M=>{d==null||d(Co(M))},...e?t:{}});return e?D:x}var Co=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"});var ho=require("@tanstack/react-query");function Kt({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=ne(),{check:o}=ue(),n=(0,ho.useQuery)(["useAuthenticated",t],async()=>{var a;return(a=await(o==null?void 0:o(t)))!=null?a:{}},{retry:!1,enabled:!e}),s=(0,ho.useQuery)(["useAuthenticated",t,"v3LegacyAuthProviderCompatible"],async()=>{var a;return(a=await(r==null?void 0:r(t)))!=null?a:{}},{retry:!1,enabled:e});return e?s:n}var Un=Kt;var vo=require("@tanstack/react-query");function ee({v3LegacyAuthProviderCompatible:e=!1}={}){let t=O(),r=se(),{replace:o}=ae(),{checkError:n}=ne(),{onError:s}=ue(),{mutate:a}=Ht({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:u}=Ht({v3LegacyAuthProviderCompatible:Boolean(e)}),d=(0,vo.useMutation)(["useCheckError"],s,{onSuccess:({logout:m,redirectTo:p})=>{if(m){u({redirectPath:p});return}if(p){t==="legacy"?o(p):r({to:p,type:"replace"});return}}}),l=(0,vo.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],n,{onError:m=>{a({redirectPath:m})}});return e?l:d}var In=ee;var vr=()=>{let{isProvided:e}=ne(),{isProvided:t}=ue();return Boolean(t||e)};var $n=require("@tanstack/react-query");var Wt=e=>e/1e3;var wn=S(require("lodash/zip")),An=S(require("lodash/fromPairs")),Gt=(e,t=r=>r)=>{let[r,...o]=e;return o.map(n=>(0,An.default)((0,wn.default)(r,n))).map((n,s,a)=>t.call(void 0,n,s,a))};var Lo=S(require("pluralize"));var Dr=S(require("qs")),Do=S(require("lodash/unionWith")),Eo=S(require("lodash/differenceWith")),Sn=S(require("warn-once"));var $t=e=>{var a;let{current:t,pageSize:r,sorter:o,sorters:n,filters:s}=Dr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:(a=I(n,o))!=null?a:[],parsedFilters:s!=null?s:[]}},Qn=e=>{let t=Dr.default.stringify(e);return $t(`/${t}`)},zt=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:o,sorters:n,filters:s,...a}=e;return Dr.default.stringify({...a,...r||{},sorters:I(n,o),filters:s},t)},kn=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,Bn=(e,t)=>e.field==t.field,dt=(e,t,r=[])=>(t.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&(0,Sn.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Do.default)(e,t,r,kn).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),_t=(e,t)=>(0,Do.default)(e,t,Bn).filter(r=>r.order!==void 0&&r.order!==null),jt=(e,t)=>[...(0,Eo.default)(t,e,kn),...e],Zt=(e,t)=>[...(0,Eo.default)(t,e,Bn),...e],Fn=(e,t)=>{if(!t)return;let r=t.find(o=>o.field===e);if(r)return r.order},Vn=(e,t,r="eq")=>{let o=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:s,field:a}=n;return a===e&&s===r}});if(o)return o.value||[]};var Nn=e=>new Promise((t,r)=>{let o=new FileReader,n=()=>{o.result&&(o.removeEventListener("load",n,!1),t(o.result))};o.addEventListener("load",n,!1),o.readAsDataURL(e.originFileObj),o.onerror=s=>(o.removeEventListener("load",n,!1),r(s))});var lt=(e="",t)=>{let r=mt(e);return t==="singular"?Lo.default.singular(r):Lo.default.plural(r)};var Mo=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e;var I=(...e)=>e.find(t=>typeof t<"u");var te=(e,t,r,o)=>{let n=t||"default",s={all:[n],resourceAll:[n,e||""],list:a=>[...s.resourceAll,"list",{...a,...I(r,o)||{}}],many:a=>[...s.resourceAll,"getMany",a&&a.map(String),{...I(r,o)||{}}].filter(u=>u!==void 0),detail:a=>[...s.resourceAll,"detail",a==null?void 0:a.toString(),{...I(r,o)||{}}],logList:a=>["logList",e,a,o].filter(u=>u!==void 0)};return s};var Uo=(e,t)=>!e||!t?!1:!!e.find(r=>r===t);var ft=e=>e.startsWith(":");var He=e=>e.split("/").filter(r=>r!=="");var Io=(e,t)=>{let r=He(e),o=He(t);return r.length===o.length};var ye=e=>e.replace(/^\/|\/$/g,"");var wo=(e,t)=>{let r=ye(e),o=ye(t);if(!Io(r,o))return!1;let n=He(r);return He(o).every((a,u)=>ft(a)||a===n[u])};var Ao=(e,t,r)=>{let o=ye(r||""),n=`${o}${o?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`};var De=(e,t)=>{var n,s;let r=I((n=e.meta)==null?void 0:n.parent,(s=e.options)==null?void 0:s.parent,e.parentName);if(!r)return;let o=t.find(a=>{var u;return((u=a.identifier)!=null?u:a.name)===r});return o!=null?o:{name:r}};var Yt=(e,t,r)=>{let o=[],n=De(e,t);for(;n;)o.push(n),n=De(n,t);if(o.length!==0)return`/${o.reverse().map(s=>{var u,d;let a=r&&(d=(u=s.options)==null?void 0:u.route)!=null?d:s.name;return ye(a)}).join("/")}`};var fe=(e,t,r)=>{let o=[],n=["list","show","edit","create","clone"],s=Yt(e,t,r);return n.forEach(a=>{var l,m,p,R;let u=r&&a==="clone"?e.create:e[a],d;typeof u=="function"||r?d=Ao(r&&(R=(p=(l=e.meta)==null?void 0:l.route)!=null?p:(m=e.options)==null?void 0:m.route)!=null?R:e.name,a,r?s:void 0):typeof u=="string"?d=u:typeof u=="object"&&(d=u.path),d&&o.push({action:a,resource:e,route:`/${d.replace(/^\//,"")}`})}),o};var On=e=>{var n,s;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(a=>({...a,splitted:He(ye(a.route))})),r=(s=(n=t[0])==null?void 0:n.splitted.length)!=null?s:0,o=[...t];for(let a=0;a<r;a++){let u=o.filter(d=>!ft(d.splitted[a]));if(u.length!==0){if(u.length===1){o=u;break}o=u}}return o[0]};var Er=(e,t)=>{let o=t.flatMap(s=>fe(s,t)).filter(s=>wo(e,s.route)),n=On(o);return{found:!!n,resource:n==null?void 0:n.resource,action:n==null?void 0:n.action,matchedRoute:n==null?void 0:n.route}};var Jt=(e,t)=>{var n,s,a;let r,o=Yt(e,t,!0);if(o){let u=I(e.meta,e.options);r=`${o}/${(n=u==null?void 0:u.route)!=null?n:e.name}`}else r=(a=(s=e.options)==null?void 0:s.route)!=null?a:e.name;return`/${r.replace(/^\//,"")}`};var So=e=>{var a,u,d;let t=[],r={},o={},n,s;for(let l=0;l<e.length;l++){n=e[l];let m=(d=(u=n.route)!=null?u:(a=I(n==null?void 0:n.meta,n.options))==null?void 0:a.route)!=null?d:"";r[m]=n,r[m].children=[],o[n.name]=n,o[n.name].children=[]}for(let l in r)r.hasOwnProperty(l)&&(s=r[l],s.parentName&&o[s.parentName]?o[s.parentName].children.push(s):t.push(s));return t};var mt=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e);var ko=S(require("react"));var Hn=S(require("react")),Qo=({children:e})=>Hn.default.createElement("div",null,e);var Ke={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},xe=ko.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Qo,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ke}),Kn=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,undoableTimeout:n,children:s,DashboardPage:a,Title:u,Layout:d=Qo,Header:l,Sider:m,Footer:p,OffLayoutArea:R,LoginPage:x=Lr,catchAll:D,liveMode:M="off",onLiveEvent:i,options:g})=>ko.default.createElement(xe.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,Title:u,undoableTimeout:n,Layout:d,Header:l,Sider:m,Footer:p,OffLayoutArea:R,DashboardPage:a,LoginPage:x,catchAll:D,liveMode:M,onLiveEvent:i,options:g}},s);var Bo=({options:e,disableTelemetry:t,liveMode:r,mutationMode:o,reactQueryClientConfig:n,reactQueryDevtoolConfig:s,syncWithLocation:a,undoableTimeout:u,warnWhenUnsavedChanges:d}={})=>{var R,x,D,M,i,g,y,C,L,f,P,T,E,b,v,h,U,w,A,N,H,k,J,Q;let l={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(x=(R=e==null?void 0:e.mutationMode)!=null?R:o)!=null?x:Ke.mutationMode,undoableTimeout:(M=(D=e==null?void 0:e.undoableTimeout)!=null?D:u)!=null?M:Ke.undoableTimeout,syncWithLocation:(g=(i=e==null?void 0:e.syncWithLocation)!=null?i:a)!=null?g:Ke.syncWithLocation,warnWhenUnsavedChanges:(C=(y=e==null?void 0:e.warnWhenUnsavedChanges)!=null?y:d)!=null?C:Ke.warnWhenUnsavedChanges,liveMode:(f=(L=e==null?void 0:e.liveMode)!=null?L:r)!=null?f:Ke.liveMode,redirect:{afterCreate:(T=(P=e==null?void 0:e.redirect)==null?void 0:P.afterCreate)!=null?T:Ke.redirect.afterCreate,afterClone:(b=(E=e==null?void 0:e.redirect)==null?void 0:E.afterClone)!=null?b:Ke.redirect.afterClone,afterEdit:(h=(v=e==null?void 0:e.redirect)==null?void 0:v.afterEdit)!=null?h:Ke.redirect.afterEdit}},m=(w=(U=e==null?void 0:e.disableTelemetry)!=null?U:t)!=null?w:!1,p={clientConfig:(H=(N=(A=e==null?void 0:e.reactQuery)==null?void 0:A.clientConfig)!=null?N:n)!=null?H:{},devtoolConfig:(Q=(J=(k=e==null?void 0:e.reactQuery)==null?void 0:k.devtoolConfig)!=null?J:s)!=null?Q:{}};return{optionsWithDefaults:l,disableTelemetryWithDefault:m,reactQueryWithDefaults:p}};var Fo=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}};var Mr=async(e,t,r)=>{let o=[];for(let[n,s]of e.entries())try{let a=await s();o.push(t(a,n))}catch(a){o.push(r(a,n))}return o};var $=(e,t=[],r=!1)=>{if(!e)return;if(r){let n=t.find(a=>{var u;return ye((u=a.route)!=null?u:"")===ye(e)});return n||t.find(a=>a.name===e)}return t.find(n=>{var s;return((s=n.identifier)!=null?s:n.name)===e})};var F=(e,t,r)=>{if(t)return t;let o=$(e,r),n=I(o==null?void 0:o.meta,o==null?void 0:o.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"};var ze=async e=>({data:(await Promise.all(e)).map(t=>t.data)});var Xt=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let o=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,s=Math.ceil((e.total||0)/n);return o<s?Number(o)+1:void 0},qt=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let o=(t==null?void 0:t.current)||1;return o===1?void 0:o-1};var er=e=>{let t=[];return e==null||e.forEach(r=>{var o,n,s;t.push({...r,label:(s=(o=r.meta)==null?void 0:o.label)!=null?s:(n=r.options)==null?void 0:n.label,route:Jt(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t};var Wn=e=>He(ye(e)).flatMap(r=>ft(r)?[r.slice(1)]:[]);var Gn=(e,t={})=>e.reduce((r,o)=>{let n=t[o];return typeof n<"u"&&(r[o]=n),r},{});var Te=(e,t={},r={},o={})=>{let n=Wn(e),s=Gn(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...o});return e.replace(/:([^\/]+)/g,(a,u)=>{let d=s[u];return typeof d<"u"?`${d}`:a})};var W=()=>{let e=ne(),t=ue();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null};var tr=({hasPagination:e,pagination:t,configPagination:r}={})=>{var u,d,l;let o=e===!1?"off":"server",n=(u=t==null?void 0:t.mode)!=null?u:o,s=(d=I(t==null?void 0:t.current,r==null?void 0:r.current))!=null?d:1,a=(l=I(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?l:10;return{current:s,pageSize:a,mode:n}};var Ur=require("react"),Ir=e=>{let[t,r]=(0,Ur.useState)(!1);return(0,Ur.useEffect)(()=>{let o=window.matchMedia(e);o.matches!==t&&r(o.matches);let n=()=>r(o.matches);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t};var Dt=({resource:e,config:t,filters:r,hasPagination:o,pagination:n,sorters:s,queryOptions:a,successNotification:u,errorNotification:d,meta:l,metaData:m,liveMode:p,onLiveEvent:R,liveParams:x,dataProviderName:D})=>{let{resources:M}=B(),i=Z(),g=V(),y=W(),{mutate:C}=ee({v3LegacyAuthProviderCompatible:Boolean(y==null?void 0:y.isLegacy)}),L=re(),f=G(),P=F(e,D,M),T=I(l,m),E=I(r,t==null?void 0:t.filters),b=I(s,t==null?void 0:t.sort),v=I(o,t==null?void 0:t.hasPagination),h=tr({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:v}),U=h.mode==="server",w=f({meta:T}),A={meta:w,metaData:w,filters:E,hasPagination:U,pagination:h,sorters:b,config:{...t,sort:b}},N=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,H=te(e,P,T,T),{getList:k}=i(P);return _e({resource:e,types:["*"],params:{meta:w,metaData:w,pagination:h,hasPagination:U,sort:b,sorters:b,filters:E,subscriptionType:"useList",...x},channel:`resources/${e}`,enabled:N,liveMode:p,onLiveEvent:R}),(0,$n.useQuery)(H.list({filters:E,hasPagination:U,...U&&{pagination:h},...s&&{sorters:s},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:Q,pageParam:K,signal:j})=>k({resource:e,pagination:h,hasPagination:U,filters:E,sort:b,sorters:b,meta:{...w||{},queryContext:{queryKey:Q,pageParam:K,signal:j}},metaData:{...w||{},queryContext:{queryKey:Q,pageParam:K,signal:j}}}),{...a,enabled:typeof(a==null?void 0:a.enabled)<"u"?a==null?void 0:a.enabled:!!e,select:Q=>{var ge;let K=Q,{current:j,mode:Ve,pageSize:X}=h;return Ve==="client"&&(K={...K,data:K.data.slice((j-1)*X,j*X),total:K.total}),a!=null&&a.select?(ge=a==null?void 0:a.select)==null?void 0:ge.call(a,K):K},onSuccess:Q=>{var j;(j=a==null?void 0:a.onSuccess)==null||j.call(a,Q);let K=typeof u=="function"?u(Q,A,e):u;L(K)},onError:Q=>{var j;C(Q),(j=a==null?void 0:a.onError)==null||j.call(a,Q);let K=typeof d=="function"?d(Q,A,e):d;L(K,{key:`${e}-useList-notification`,message:g("notifications.error",{statusCode:Q.statusCode},`Error (status code: ${Q.statusCode})`),description:Q.message,type:"error"})}})};var zn=require("@tanstack/react-query");var Et=({resource:e,id:t,queryOptions:r,successNotification:o,errorNotification:n,meta:s,metaData:a,liveMode:u,onLiveEvent:d,liveParams:l,dataProviderName:m})=>{let{resources:p}=B(),R=Z(),x=V(),D=W(),{mutate:M}=ee({v3LegacyAuthProviderCompatible:Boolean(D==null?void 0:D.isLegacy)}),i=re(),g=G(),y=I(s,a),C=te(e,F(e,m,p),y,y),{getOne:L}=R(F(e,m,p)),f=g({meta:y});return _e({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:f,metaData:f,subscriptionType:"useOne",...l},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:u,onLiveEvent:d}),(0,zn.useQuery)(C.detail(t),({queryKey:T,pageParam:E,signal:b})=>L({resource:e,id:t,meta:{...f||{},queryContext:{queryKey:T,pageParam:E,signal:b}},metaData:{...f||{},queryContext:{queryKey:T,pageParam:E,signal:b}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:T=>{var b;(b=r==null?void 0:r.onSuccess)==null||b.call(r,T);let E=typeof o=="function"?o(T,{id:t,...f||{}},e):o;i(E)},onError:T=>{var b;M(T),(b=r==null?void 0:r.onError)==null||b.call(r,T);let E=typeof n=="function"?n(T,{id:t,...f||{}},e):n;i(E,{key:`${t}-${e}-getOne-notification`,message:x("notifications.error",{statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})}})};var _n=require("@tanstack/react-query");var wr=({resource:e,ids:t,queryOptions:r,successNotification:o,errorNotification:n,meta:s,metaData:a,liveMode:u,onLiveEvent:d,liveParams:l,dataProviderName:m})=>{let{resources:p}=B(),R=Z(),x=V(),D=W(),{mutate:M}=ee({v3LegacyAuthProviderCompatible:Boolean(D==null?void 0:D.isLegacy)}),i=re(),g=G(),y=I(s,a),C=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,L=te(e,F(e,m,p),y,y),{getMany:f,getOne:P}=R(F(e,m,p)),T=g({meta:y});return _e({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:T,metaData:T,subscriptionType:"useMany",...l},channel:`resources/${e}`,enabled:C,liveMode:u,onLiveEvent:d}),(0,_n.useQuery)(L.many(t),({queryKey:b,pageParam:v,signal:h})=>f?f({resource:e,ids:t,meta:{...T||{},queryContext:{queryKey:b,pageParam:v,signal:h}},metaData:{...T||{},queryContext:{queryKey:b,pageParam:v,signal:h}}}):ze(t.map(U=>P({resource:e,id:U,meta:{...T||{},queryContext:{queryKey:b,pageParam:v,signal:h}},metaData:{...T||{},queryContext:{queryKey:b,pageParam:v,signal:h}}}))),{...r,onSuccess:b=>{var h;(h=r==null?void 0:r.onSuccess)==null||h.call(r,b);let v=typeof o=="function"?o(b,t,e):o;i(v)},onError:b=>{var h;M(b),(h=r==null?void 0:r.onError)==null||h.call(r,b);let v=typeof n=="function"?n(b,t,e):n;i(v,{key:`${t[0]}-${e}-getMany-notification`,message:x("notifications.error",{statusCode:b.statusCode},`Error (status code: ${b.statusCode})`),description:b.message,type:"error"})}})};var Qr=require("@tanstack/react-query");var Lt=S(require("react")),Ar=S(require("lodash/isEqual"));var Sr=Lt.default.createContext({notifications:[],notificationDispatch:()=>!1}),Os=[],Hs=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(o=>!((0,Ar.default)(o.id,t.payload.id)&&o.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(o=>!((0,Ar.default)(o.id,t.payload.id)&&o.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(o=>(0,Ar.default)(o.id,t.payload.id)&&o.resource==t.payload.resource?{...o,seconds:t.payload.seconds-1e3}:o);default:return e}},Vo=({children:e})=>{let[t,r]=(0,Lt.useReducer)(Hs,Os),o={notifications:t,notificationDispatch:r};return Lt.default.createElement(Sr.Provider,{value:o},e,typeof window<"u"&&t.map(n=>Lt.default.createElement(No,{key:`${n.id}-${n.resource}-queue`,notification:n})))};var Oo=S(require("pluralize"));var kr=({mutationOptions:e}={})=>{let{resources:t}=B(),r=(0,Qr.useQueryClient)(),o=Z(),{mutationMode:n,undoableTimeout:s}=Ae(),a=V(),u=W(),{mutate:d}=ee({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),l=Ee(),{log:m}=Le(),{notificationDispatch:p}=Be(),R=re(),x=Me(),D=G();return(0,Qr.useMutation)(({id:i,values:g,resource:y,mutationMode:C,undoableTimeout:L,onCancel:f,meta:P,metaData:T,dataProviderName:E})=>{let b=D({meta:I(P,T)}),v=C!=null?C:n,h=L!=null?L:s;return v!=="undoable"?o(F(y,E,t)).update({resource:y,id:i,variables:g,meta:b,metaData:b}):new Promise((w,A)=>{let N=()=>{o(F(y,E,t)).update({resource:y,id:i,variables:g,meta:b,metaData:b}).then(k=>w(k)).catch(k=>A(k))},H=()=>{A({message:"mutationCancelled"})};f&&f(H),p({type:"ADD",payload:{id:i,resource:y,cancelMutation:H,doMutation:N,seconds:h,isSilent:!!f}})})},{onMutate:async({resource:i,id:g,mutationMode:y,values:C,dataProviderName:L,meta:f,metaData:P})=>{let T=I(f,P),E=te(i,F(i,L,t),T,T),b=r.getQueriesData(E.resourceAll),v=y!=null?y:n;return await r.cancelQueries(E.resourceAll,void 0,{silent:!0}),v!=="pessimistic"&&(r.setQueriesData(E.list(),h=>{if(!h)return null;let U=h.data.map(w=>{var A;return((A=w.id)==null?void 0:A.toString())===(g==null?void 0:g.toString())?{id:g,...w,...C}:w});return{...h,data:U}}),r.setQueriesData(E.many(),h=>{if(!h)return null;let U=h.data.map(w=>{var A;return((A=w.id)==null?void 0:A.toString())===(g==null?void 0:g.toString())&&(w={id:g,...w,...C}),w});return{...h,data:U}}),r.setQueriesData(E.detail(g),h=>h?{...h,data:{...h.data,...C}}:null)),{previousQueries:b,queryKey:E}},onSettled:(i,g,{id:y,resource:C,dataProviderName:L,invalidates:f=["list","many","detail"]})=>{x({resource:C,dataProviderName:F(C,L,t),invalidates:f,id:y}),p({type:"REMOVE",payload:{id:y,resource:C}})},onSuccess:(i,{id:g,resource:y,successNotification:C,dataProviderName:L,values:f,meta:P,metaData:T},E)=>{var H;let b=Oo.default.singular(y),v=typeof C=="function"?C(i,{id:g,values:f},y):C;R(v,{key:`${g}-${y}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${y}.${y}`,b)},`Successfully updated ${b}`),type:"success"}),l==null||l({channel:`resources/${y}`,type:"updated",payload:{ids:(H=i.data)!=null&&H.id?[i.data.id]:void 0},date:new Date});let h;if(E){let k=r.getQueryData(E.queryKey.detail(g));h=Object.keys(f||{}).reduce((J,Q)=>{var K;return J[Q]=(K=k==null?void 0:k.data)==null?void 0:K[Q],J},{})}let{fields:U,operation:w,variables:A,...N}=I(P,T)||{};m==null||m.mutate({action:"update",resource:y,data:f,previousData:h,meta:{id:g,dataProviderName:F(y,L,t),...N}})},onError:(i,{id:g,resource:y,errorNotification:C,values:L},f)=>{if(f)for(let P of f.previousQueries)r.setQueryData(P[0],P[1]);if(i.message!=="mutationCancelled"){d==null||d(i);let P=Oo.default.singular(y),T=typeof C=="function"?C(i,{id:g,values:L},y):C;R(T,{key:`${g}-${y}-notification`,message:a("notifications.editError",{resource:a(`${y}.${y}`,P),statusCode:i.statusCode},`Error when updating ${P} (status code: ${i.statusCode})`),description:i.message,type:"error"})}},...e})};var jn=require("@tanstack/react-query"),Ho=S(require("pluralize"));var Ut=({mutationOptions:e}={})=>{let t=W(),{mutate:r}=ee({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=Z(),n=Me(),{resources:s}=B(),a=V(),u=Ee(),{log:d}=Le(),l=re(),m=G();return(0,jn.useMutation)(({resource:R,values:x,meta:D,metaData:M,dataProviderName:i})=>{let g=m({meta:I(D,M)});return o(F(R,i,s)).create({resource:R,variables:x,meta:g,metaData:g})},{onSuccess:(R,{resource:x,successNotification:D,dataProviderName:M,invalidates:i=["list","many"],values:g,meta:y,metaData:C})=>{var v,h,U;let L=Ho.default.singular(x),f=typeof D=="function"?D(R,g,x):D;l(f,{key:`create-${x}-notification`,message:a("notifications.createSuccess",{resource:a(`${x}.${x}`,L)},`Successfully created ${L}`),description:a("notifications.success","Success"),type:"success"}),n({resource:x,dataProviderName:F(x,M,s),invalidates:i}),u==null||u({channel:`resources/${x}`,type:"created",payload:{ids:(v=R==null?void 0:R.data)!=null&&v.id?[R.data.id]:void 0},date:new Date});let{fields:P,operation:T,variables:E,...b}=I(y,C)||{};d==null||d.mutate({action:"create",resource:x,data:g,meta:{dataProviderName:F(x,M,s),id:(U=(h=R==null?void 0:R.data)==null?void 0:h.id)!=null?U:void 0,...b}})},onError:(R,{resource:x,errorNotification:D,values:M})=>{r(R);let i=Ho.default.singular(x),g=typeof D=="function"?D(R,M,x):D;l(g,{key:`create-${x}-notification`,description:R.message,message:a("notifications.createError",{resource:a(`${x}.${x}`,i),statusCode:R.statusCode},`There was an error creating ${i} (status code: ${R.statusCode})`),type:"error"})},...e})};var Br=require("@tanstack/react-query"),Ko=S(require("pluralize"));var Zn=({mutationOptions:e}={})=>{let t=W(),{mutate:r}=ee({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=Z(),{resources:n}=B(),s=(0,Br.useQueryClient)(),{mutationMode:a,undoableTimeout:u}=Ae(),{notificationDispatch:d}=Be(),l=V(),m=Ee(),{log:p}=Le(),R=re(),x=Me(),D=G();return(0,Br.useMutation)(({id:i,mutationMode:g,undoableTimeout:y,resource:C,onCancel:L,meta:f,metaData:P,dataProviderName:T,values:E})=>{let b=D({meta:I(f,P)}),v=g!=null?g:a,h=y!=null?y:u;return v!=="undoable"?o(F(C,T,n)).deleteOne({resource:C,id:i,meta:b,metaData:b,variables:E}):new Promise((w,A)=>{let N=()=>{o(F(C,T,n)).deleteOne({resource:C,id:i,meta:b,metaData:b,variables:E}).then(k=>w(k)).catch(k=>A(k))},H=()=>{A({message:"mutationCancelled"})};L&&L(H),d({type:"ADD",payload:{id:i,resource:C,cancelMutation:H,doMutation:N,seconds:h,isSilent:!!L}})})},{onMutate:async({id:i,resource:g,mutationMode:y,dataProviderName:C,meta:L,metaData:f})=>{let P=I(L,f),T=te(g,F(g,C,n),P,P),E=y!=null?y:a;await s.cancelQueries(T.resourceAll,void 0,{silent:!0});let b=s.getQueriesData(T.resourceAll);return E!=="pessimistic"&&(s.setQueriesData(T.list(),v=>v?{data:v.data.filter(U=>{var w;return((w=U.id)==null?void 0:w.toString())!==i.toString()}),total:v.total-1}:null),s.setQueriesData(T.many(),v=>{if(!v)return null;let h=v.data.filter(U=>{var w;return((w=U.id)==null?void 0:w.toString())!==(i==null?void 0:i.toString())});return{...v,data:h}})),{previousQueries:b,queryKey:T}},onSettled:(i,g,{id:y,resource:C,dataProviderName:L,invalidates:f=["list","many"]})=>{x({resource:C,dataProviderName:F(C,L,n),invalidates:f}),d({type:"REMOVE",payload:{id:y,resource:C}})},onSuccess:(i,{id:g,resource:y,successNotification:C,dataProviderName:L,meta:f,metaData:P},T)=>{let E=Ko.default.singular(y!=null?y:"");s.removeQueries(T==null?void 0:T.queryKey.detail(g));let b=typeof C=="function"?C(i,g,y):C;R(b,{key:`${g}-${y}-notification`,description:l("notifications.success","Success"),message:l("notifications.deleteSuccess",{resource:l(`${y}.${y}`,E)},`Successfully deleted a ${E}`),type:"success"}),m==null||m({channel:`resources/${y}`,type:"deleted",payload:{ids:g?[g]:[]},date:new Date});let{fields:v,operation:h,variables:U,...w}=I(f,P)||{};p==null||p.mutate({action:"delete",resource:y,meta:{id:g,dataProviderName:F(y,L,n),...w}}),s.removeQueries(T==null?void 0:T.queryKey.detail(g))},onError:(i,{id:g,resource:y,errorNotification:C},L)=>{if(L)for(let f of L.previousQueries)s.setQueryData(f[0],f[1]);if(i.message!=="mutationCancelled"){r(i);let f=Ko.default.singular(y!=null?y:""),P=typeof C=="function"?C(i,g,y):C;R(P,{key:`${g}-${y}-notification`,message:l("notifications.deleteError",{resource:f,statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})}},...e})};var Yn=require("@tanstack/react-query"),Jn=S(require("pluralize"));var Fr=({mutationOptions:e}={})=>{let t=Z(),{resources:r}=B(),o=V(),n=Ee(),s=re(),a=Me(),{log:u}=Le(),d=G();return(0,Yn.useMutation)(({resource:m,values:p,meta:R,metaData:x,dataProviderName:D})=>{let M=d({meta:I(R,x)}),i=t(F(m,D,r));return i.createMany?i.createMany({resource:m,variables:p,meta:M,metaData:M}):ze(p.map(g=>i.create({resource:m,variables:g,meta:M,metaData:M})))},{onSuccess:(m,{resource:p,successNotification:R,dataProviderName:x,invalidates:D=["list","many"],values:M,meta:i,metaData:g})=>{let y=Jn.default.plural(p),C=typeof R=="function"?R(m,M,p):R;s(C,{key:`createMany-${p}-notification`,message:o("notifications.createSuccess",{resource:o(`${p}.${p}`,p)},`Successfully created ${y}`),description:o("notifications.success","Success"),type:"success"}),a({resource:p,dataProviderName:F(p,x,r),invalidates:D});let L=m==null?void 0:m.data.filter(b=>(b==null?void 0:b.id)!==void 0).map(b=>b.id);n==null||n({channel:`resources/${p}`,type:"created",payload:{ids:L},date:new Date});let{fields:f,operation:P,variables:T,...E}=I(i,g)||{};u==null||u.mutate({action:"createMany",resource:p,data:M,meta:{dataProviderName:F(p,x,r),ids:L,...E}})},onError:(m,{resource:p,errorNotification:R,values:x})=>{let D=typeof R=="function"?R(m,x,p):R;s(D,{key:`createMany-${p}-notification`,description:m.message,message:o("notifications.createError",{resource:o(`${p}.${p}`,p),statusCode:m.statusCode},`There was an error creating ${p} (status code: ${m.statusCode}`),type:"error"})},...e})};var Vr=require("@tanstack/react-query"),Wo=S(require("pluralize"));var Xn=({mutationOptions:e}={})=>{let{resources:t}=B(),r=(0,Vr.useQueryClient)(),o=Z(),n=V(),{mutationMode:s,undoableTimeout:a}=Ae(),u=W(),{mutate:d}=ee({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),{notificationDispatch:l}=Be(),m=Ee(),p=re(),R=Me(),{log:x}=Le(),D=G();return(0,Vr.useMutation)(({ids:i,values:g,resource:y,onCancel:C,mutationMode:L,undoableTimeout:f,meta:P,metaData:T,dataProviderName:E})=>{let b=D({meta:I(P,T)}),v=L!=null?L:s,h=f!=null?f:a,U=o(F(y,E,t)),w=()=>U.updateMany?U.updateMany({resource:y,ids:i,variables:g,meta:b,metaData:b}):ze(i.map(N=>U.update({resource:y,id:N,variables:g,meta:b,metaData:b})));return v!=="undoable"?w():new Promise((N,H)=>{let k=()=>{w().then(Q=>N(Q)).catch(Q=>H(Q))},J=()=>{H({message:"mutationCancelled"})};C&&C(J),l({type:"ADD",payload:{id:i,resource:y,cancelMutation:J,doMutation:k,seconds:h,isSilent:!!C}})})},{onMutate:async({resource:i,ids:g,values:y,mutationMode:C,dataProviderName:L,meta:f,metaData:P})=>{let T=te(i,F(i,L,t),I(f,P),I(f,P)),E=C!=null?C:s;await r.cancelQueries(T.resourceAll,void 0,{silent:!0});let b=r.getQueriesData(T.resourceAll);if(E!=="pessimistic"){r.setQueriesData(T.list(),v=>{if(!v)return null;let h=v.data.map(U=>U.id!==void 0&&g.filter(w=>w!==void 0).map(String).includes(U.id.toString())?{...U,...y}:U);return{...v,data:h}}),r.setQueriesData(T.many(),v=>{if(!v)return null;let h=v.data.map(U=>U.id!==void 0&&g.filter(w=>w!==void 0).map(String).includes(U.id.toString())?{...U,...y}:U);return{...v,data:h}});for(let v of g)r.setQueriesData(T.detail(v),h=>{if(!h)return null;let U={...h.data,...y};return{...h,data:U}})}return{previousQueries:b,queryKey:T}},onSettled:(i,g,{ids:y,resource:C,dataProviderName:L})=>{R({resource:C,invalidates:["list","many"],dataProviderName:F(C,L,t)}),y.forEach(f=>R({resource:C,invalidates:["detail"],dataProviderName:F(C,L,t),id:f})),l({type:"REMOVE",payload:{id:y,resource:C}})},onSuccess:(i,{ids:g,resource:y,meta:C,metaData:L,dataProviderName:f,successNotification:P,values:T},E)=>{let b=Wo.default.singular(y),v=typeof P=="function"?P(i,{ids:g,values:T},y):P;p(v,{key:`${g}-${y}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${y}.${y}`,y)},`Successfully updated ${b}`),type:"success"}),m==null||m({channel:`resources/${y}`,type:"updated",payload:{ids:g.map(String)},date:new Date});let h=[];E&&g.forEach(H=>{let k=r.getQueryData(E.queryKey.detail(H));h.push(Object.keys(T||{}).reduce((J,Q)=>{var K;return J[Q]=(K=k==null?void 0:k.data)==null?void 0:K[Q],J},{}))});let{fields:U,operation:w,variables:A,...N}=I(C,L)||{};x==null||x.mutate({action:"updateMany",resource:y,data:T,previousData:h,meta:{ids:g,dataProviderName:F(y,f,t),...N}})},onError:(i,{ids:g,resource:y,errorNotification:C,values:L},f)=>{if(f)for(let P of f.previousQueries)r.setQueryData(P[0],P[1]);if(i.message!=="mutationCancelled"){d==null||d(i);let P=Wo.default.singular(y),T=typeof C=="function"?C(i,{ids:g,values:L},y):C;p(T,{key:`${g}-${y}-updateMany-error-notification`,message:n("notifications.editError",{resource:P,statusCode:i.statusCode},`Error when updating ${P} (status code: ${i.statusCode})`),description:i.message,type:"error"})}},...e})};var Nr=require("@tanstack/react-query"),qn=S(require("pluralize"));var ea=({mutationOptions:e}={})=>{let t=W(),{mutate:r}=ee({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:o,undoableTimeout:n}=Ae(),s=Z(),{notificationDispatch:a}=Be(),u=V(),d=Ee(),l=re(),m=Me(),{log:p}=Le(),{resources:R}=B(),x=(0,Nr.useQueryClient)(),D=G();return(0,Nr.useMutation)(({resource:i,ids:g,mutationMode:y,undoableTimeout:C,onCancel:L,meta:f,metaData:P,dataProviderName:T,values:E})=>{let b=D({meta:I(f,P)}),v=y!=null?y:o,h=C!=null?C:n,U=s(F(i,T,R)),w=()=>U.deleteMany?U.deleteMany({resource:i,ids:g,meta:b,metaData:b,variables:E}):ze(g.map(N=>U.deleteOne({resource:i,id:N,meta:b,metaData:b,variables:E})));return v!=="undoable"?w():new Promise((N,H)=>{let k=()=>{w().then(Q=>N(Q)).catch(Q=>H(Q))},J=()=>{H({message:"mutationCancelled"})};L&&L(J),a({type:"ADD",payload:{id:g,resource:i,cancelMutation:J,doMutation:k,seconds:h,isSilent:!!L}})})},{onMutate:async({ids:i,resource:g,mutationMode:y,dataProviderName:C,meta:L,metaData:f})=>{let P=I(L,f),T=te(g,F(g,C,R),P,P),E=y!=null?y:o;await x.cancelQueries(T.resourceAll,void 0,{silent:!0});let b=x.getQueriesData(T.resourceAll);if(E!=="pessimistic"){x.setQueriesData(T.list(),v=>v?{data:v.data.filter(U=>U.id&&!i.map(String).includes(U.id.toString())),total:v.total-1}:null),x.setQueriesData(T.many(),v=>{if(!v)return null;let h=v.data.filter(U=>U.id?!i.map(String).includes(U.id.toString()):!1);return{...v,data:h}});for(let v of i)x.setQueriesData(T.detail(v),h=>!h||h.data.id==v?null:{...h})}return{previousQueries:b,queryKey:T}},onSettled:(i,g,{resource:y,ids:C,dataProviderName:L,invalidates:f=["list","many"]})=>{m({resource:y,dataProviderName:F(y,L,R),invalidates:f}),a({type:"REMOVE",payload:{id:C,resource:y}})},onSuccess:(i,{ids:g,resource:y,meta:C,metaData:L,dataProviderName:f,successNotification:P},T)=>{g.forEach(w=>x.removeQueries(T==null?void 0:T.queryKey.detail(w)));let E=typeof P=="function"?P(i,g,y):P;l(E,{key:`${g}-${y}-notification`,description:u("notifications.success","Success"),message:u("notifications.deleteSuccess",{resource:u(`${y}.${y}`,y)},`Successfully deleted ${y}`),type:"success"}),d==null||d({channel:`resources/${y}`,type:"deleted",payload:{ids:g},date:new Date});let{fields:b,operation:v,variables:h,...U}=I(C,L)||{};p==null||p.mutate({action:"deleteMany",resource:y,meta:{ids:g,dataProviderName:F(y,f,R),...U}}),g.forEach(w=>x.removeQueries(T==null?void 0:T.queryKey.detail(w)))},onError:(i,{ids:g,resource:y,errorNotification:C},L)=>{if(L)for(let f of L.previousQueries)x.setQueryData(f[0],f[1]);if(i.message!=="mutationCancelled"){r(i);let f=qn.default.singular(y),P=typeof C=="function"?C(i,g,y):C;l(P,{key:`${g}-${y}-notification`,message:u("notifications.deleteError",{resource:f,statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})}},...e})};var ta=e=>{let t=Z(),{getApiUrl:r}=t(e);return r()};var ra=require("@tanstack/react-query");var oa=({url:e,method:t,config:r,queryOptions:o,successNotification:n,errorNotification:s,meta:a,metaData:u,dataProviderName:d})=>{let l=Z(),m=W(),{mutate:p}=ee({v3LegacyAuthProviderCompatible:Boolean(m==null?void 0:m.isLegacy)}),R=V(),x=re(),D=G(),M=I(a,u),{custom:i}=l(d),g=D({meta:M});if(i)return(0,ra.useQuery)({queryKey:[d,"custom",t,e,{...r,...M||{}}],queryFn:({queryKey:C,pageParam:L,signal:f})=>i({url:e,method:t,...r,meta:{...g||{},queryContext:{queryKey:C,pageParam:L,signal:f}},metaData:{...g||{},queryContext:{queryKey:C,pageParam:L,signal:f}}}),...o,onSuccess:C=>{var f;(f=o==null?void 0:o.onSuccess)==null||f.call(o,C);let L=typeof n=="function"?n(C,{...r,...g||{}}):n;x(L)},onError:C=>{var f;p(C),(f=o==null?void 0:o.onError)==null||f.call(o,C);let L=typeof s=="function"?s(C,{...r,...g||{}}):s;x(L,{key:`${t}-notification`,message:R("notifications.error",{statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})}});throw Error("Not implemented custom on data provider.")};var na=require("@tanstack/react-query");var aa=({mutationOptions:e}={})=>{let t=W(),{mutate:r}=ee({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=re(),n=Z(),s=V(),a=G();return(0,na.useMutation)(({url:d,method:l,values:m,meta:p,metaData:R,dataProviderName:x,config:D})=>{let M=a({meta:I(p,R)}),{custom:i}=n(x);if(i)return i({url:d,method:l,payload:m,meta:M,metaData:M,headers:{...D==null?void 0:D.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(d,{successNotification:l,config:m,meta:p,metaData:R})=>{let x=typeof l=="function"?l(d,{...m,...I(p,R)||{}}):l;o(x)},onError:(d,{errorNotification:l,method:m,config:p,meta:R,metaData:x})=>{r(d);let D=typeof l=="function"?l(d,{...p,...I(R,x)||{}}):l;o(D,{key:`${m}-notification`,message:s("notifications.error",{statusCode:d.statusCode},`Error (status code: ${d.statusCode})`),description:d.message,type:"error"})},...e})};var Or=require("react");var Go=S(require("react")),Ks=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),rr=Go.default.createContext(Ks()),sa=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Go.default.createElement(rr.Provider,{value:r},e)};var Z=()=>{let e=(0,Or.useContext)(rr);return(0,Or.useCallback)(r=>{if(r){if(!e[r])throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])};var ia=require("@tanstack/react-query");var ua=({resource:e,config:t,filters:r,hasPagination:o,pagination:n,sorters:s,queryOptions:a,successNotification:u,errorNotification:d,meta:l,metaData:m,liveMode:p,onLiveEvent:R,liveParams:x,dataProviderName:D})=>{let{resources:M}=B(),i=Z(),g=V(),y=W(),{mutate:C}=ee({v3LegacyAuthProviderCompatible:Boolean(y==null?void 0:y.isLegacy)}),L=re(),f=G(),P=F(e,D,M),T=I(l,m),E=I(r,t==null?void 0:t.filters),b=I(s,t==null?void 0:t.sort),v=I(o,t==null?void 0:t.hasPagination),h=tr({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:v}),U=h.mode==="server",w={meta:T,metaData:T,filters:E,hasPagination:U,pagination:h,sorters:b,config:{...t,sort:b}},A=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,N=te(e,P,T,T),H=f({meta:T}),{getList:k}=i(P);return _e({resource:e,types:["*"],params:{meta:H,metaData:H,pagination:h,hasPagination:U,sort:b,sorters:b,filters:E,subscriptionType:"useList",...x},channel:`resources/${e}`,enabled:A,liveMode:p,onLiveEvent:R}),(0,ia.useInfiniteQuery)(N.list({filters:E,hasPagination:U,...U&&{pagination:h},...s&&{sorters:s},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:Q,pageParam:K,signal:j})=>{let Ve={...h,current:K};return k({resource:e,pagination:Ve,hasPagination:U,filters:E,sort:b,sorters:b,meta:{...H||{},queryContext:{queryKey:Q,pageParam:K,signal:j}},metaData:{...H||{},queryContext:{queryKey:Q,pageParam:K,signal:j}}}).then(({data:X,total:ge,...$e})=>({data:X,total:ge,pagination:Ve,...$e}))},{getNextPageParam:Q=>Xt(Q),getPreviousPageParam:Q=>qt(Q),...a,onSuccess:Q=>{var j;(j=a==null?void 0:a.onSuccess)==null||j.call(a,Q);let K=typeof u=="function"?u(Q,w,e):u;L(K)},onError:Q=>{var j;C(Q),(j=a==null?void 0:a.onError)==null||j.call(a,Q);let K=typeof d=="function"?d(Q,w,e):d;L(K,{key:`${e}-useInfiniteList-notification`,message:g("notifications.error",{statusCode:Q.statusCode},`Error (status code: ${Q.statusCode})`),description:Q.message,type:"error"})}})};var or=require("react"),pa=require("@tanstack/react-query");var $o=S(require("react")),je=$o.default.createContext(void 0),ca=({liveProvider:e,children:t})=>$o.default.createElement(je.Provider,{value:e},t);var _e=({resource:e,params:t,channel:r,types:o,enabled:n=!0,liveMode:s,onLiveEvent:a})=>{let u=(0,pa.useQueryClient)(),d=te(e),l=(0,or.useContext)(je),{liveMode:m,onLiveEvent:p}=(0,or.useContext)(xe),R=s!=null?s:m;(0,or.useEffect)(()=>{let x;return R&&R!=="off"&&n&&(x=l==null?void 0:l.subscribe({channel:r,params:{resource:e,...t},types:o,callback:D=>{R==="auto"&&u.invalidateQueries(d.resourceAll),a==null||a(D),p==null||p(D)}})),()=>{x&&(l==null||l.unsubscribe(x))}},[n])};var da=require("react");var zo=e=>{let{liveMode:t}=(0,da.useContext)(xe);return e!=null?e:t};var Hr=require("react");var Ws=({params:e,channel:t,types:r=["*"],enabled:o=!0,onLiveEvent:n})=>{let s=(0,Hr.useContext)(je);(0,Hr.useEffect)(()=>{let a;return o&&(a=s==null?void 0:s.subscribe({channel:t,params:e,types:r,callback:n})),()=>{a&&(s==null||s.unsubscribe(a))}},[o])};var la=require("react");var Ee=()=>{let e=(0,la.useContext)(je);return e==null?void 0:e.publish};var ha=require("react");var _o=S(require("react"));var ga=require("react");var ma=require("react"),fa=S(require("lodash/isEqual")),ya=e=>{let t=(0,ma.useRef)(e);return(0,fa.default)(t.current,e)||(t.current=e),t.current};var Kr=(e,t)=>{let r=ya(t);return(0,ga.useMemo)(e,r)};var Ze=_o.default.createContext({resources:[]}),Ta=({resources:e,children:t})=>{let r=Kr(()=>er(e!=null?e:[]),[e]);return _o.default.createElement(Ze.Provider,{value:{resources:r}},t)};var jo=S(require("react")),Ra=jo.default.createContext("new"),xa=Ra.Provider,O=()=>jo.default.useContext(Ra);var ba=S(require("react"));var Wr=S(require("react")),Pa={},Ye=(0,Wr.createContext)(Pa),Ca=({children:e,router:t})=>Wr.default.createElement(Ye.Provider,{value:t!=null?t:Pa},e);var Gr=S(require("react")),$r=()=>{let e=(0,Gr.useContext)(Ye);return Gr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.parse)!=null?o:()=>()=>({})},[e==null?void 0:e.parse])()};var Y=()=>{let e=$r();return ba.default.useMemo(()=>e(),[e])};function B(e){var m,p;let{resources:t}=(0,ha.useContext)(Ze),r=O(),o=Y(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},s=Je(),{useParams:a}=_(),u=a();if(r==="legacy"){let R=n.resourceNameOrRouteName?n.resourceNameOrRouteName:u.resource,x=R?s(R):void 0,D=(m=n==null?void 0:n.recordItemId)!=null?m:u.id,M=u.action,i=(p=n==null?void 0:n.resourceName)!=null?p:x==null?void 0:x.name;return{resources:t,resource:x,resourceName:i,id:D,action:M}}let d,l=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(l){let R=$(l,t);R?d=R:d={name:l}}else o!=null&&o.resource&&(d=o.resource);return{resources:t,resource:d,resourceName:d==null?void 0:d.name,id:o.id,action:o.action}}var zr=require("react");var Je=()=>{let{resources:e}=(0,zr.useContext)(Ze);return(0,zr.useCallback)(r=>{let o=$(r,e,!0);return o||{name:r,route:r}},[e])};var va=require("react");var Be=()=>{let{notifications:e,notificationDispatch:t}=(0,va.useContext)(Sr);return{notifications:e,notificationDispatch:t}};var Ea=require("react");var _r=S(require("react"));var nr=(0,_r.createContext)({}),Da=({open:e,close:t,children:r})=>_r.default.createElement(nr.Provider,{value:{open:e,close:t}},r);var Re=()=>{let{open:e,close:t}=(0,Ea.useContext)(nr);return{open:e,close:t}};var La=require("react");var re=()=>{let{open:e}=Re();return(0,La.useCallback)((r,o)=>{r!==!1&&(r?e==null||e(r):o&&(e==null||e(o)))},[])};var jr=require("react");var Zo=S(require("react"));var Fe=Zo.default.createContext({}),Ma=({children:e,i18nProvider:t})=>Zo.default.createElement(Fe.Provider,{value:{i18nProvider:t}},e);var Ua=()=>{let{i18nProvider:e}=(0,jr.useContext)(Fe);return(0,jr.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])};var Zr=require("react");var V=()=>{let{i18nProvider:e}=(0,Zr.useContext)(Fe);return(0,Zr.useMemo)(()=>{function r(o,n,s){var a,u;return(u=(a=e==null?void 0:e.translate(o,n,s))!=null?a:s)!=null?u:typeof n=="string"&&typeof s>"u"?n:o}return r},[e])};var Yr=require("react");var Ia=()=>{let{i18nProvider:e}=(0,Yr.useContext)(Fe);return(0,Yr.useCallback)(()=>e==null?void 0:e.getLocale(),[])};var wa=require("react");var Ae=()=>{let{mutationMode:e,undoableTimeout:t}=(0,wa.useContext)(xe);return{mutationMode:e,undoableTimeout:t}};var Jo=require("react");var ar=S(require("react")),Yo=ar.default.createContext({}),Aa=({children:e})=>{let[t,r]=(0,ar.useState)(!1);return ar.default.createElement(Yo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)};var It=()=>{let{warnWhenUnsavedChanges:e}=(0,Jo.useContext)(xe),{warnWhen:t,setWarnWhen:r}=(0,Jo.useContext)(Yo);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}};var Sa=require("react");var Jr=()=>{let{syncWithLocation:e}=(0,Sa.useContext)(xe);return{syncWithLocation:e}};var Qa=require("react");var ka=()=>{let{Title:e}=(0,Qa.useContext)(xe);return e};var Ba=require("react");var wt=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:n,Title:s,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:l,warnWhenUnsavedChanges:m,DashboardPage:p,LoginPage:R,catchAll:x,options:D}=(0,Ba.useContext)(xe);return{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:n,Title:s,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:l,warnWhenUnsavedChanges:m,DashboardPage:p,LoginPage:R,catchAll:x,options:D}};var Fa=require("react");var Va=require("export-to-csv-fix-source-map"),Gs=({resourceName:e,resource:t,sorter:r,sorters:o,filters:n,maxItemCount:s,pageSize:a=20,mapData:u=x=>x,exportOptions:d,meta:l,metaData:m,dataProviderName:p,onError:R}={})=>{var f;let[x,D]=(0,Fa.useState)(!1),M=Z(),{resource:i,resources:g}=B(),y=`${lt(i==null?void 0:i.name,"plural")}-${new Date().toLocaleString()}`,{getList:C}=M(F((f=i==null?void 0:i.identifier)!=null?f:i==null?void 0:i.name,p,g));return{isLoading:x,triggerExport:async()=>{var v;D(!0);let P=[],T=1,E=!0;for(;E;)try{let{data:h,total:U}=await C({resource:(v=i==null?void 0:i.name)!=null?v:"",filters:n,sort:I(o,r),sorters:I(o,r),pagination:{current:T,pageSize:a,mode:"server"},meta:I(l,m),metaData:I(l,m)});T++,P.push(...h),s&&P.length>=s&&(P=P.slice(0,s),E=!1),U===P.length&&(E=!1)}catch(h){D(!1),E=!1,R==null||R(h);return}new Va.ExportToCsv({filename:y,useKeysAsHeaders:!0,...d}).generateCsv(P.map(u)),D(!1)}}};var Xo=S(require("react")),Na=S(require("warn-once"));var $s=({resource:e,action:t,id:r,onMutationSuccess:o,onMutationError:n,redirect:s,successNotification:a,errorNotification:u,meta:d,metaData:l,mutationMode:m,liveMode:p,onLiveEvent:R,liveParams:x,undoableTimeout:D,dataProviderName:M,invalidates:i,queryOptions:g,createMutationOptions:y,updateMutationOptions:C}={})=>{let{options:L}=wt(),{resources:f}=B(),P=O(),{resource:T,id:E,action:b}=Y(),{useParams:v}=_(),{resource:h,action:U,id:w}=v(),A=G(),N=typeof T=="string"?T:T==null?void 0:T.name,H=!e||e===(P==="legacy"?h:N)?r!=null?r:P==="legacy"?w:E:r,[k,J]=Xo.default.useState(H);Xo.default.useEffect(()=>{J(H)},[H]);let Q=e!=null?e:P==="legacy"?h:N,K=P==="legacy"?U:b,j=t!=null?t:K==="edit"||K==="clone"?K:"create",Ve=Je(),X;if(P==="legacy")Q&&(X=Ve(Q));else if(e){let me=$(e,f);me?X=me:X={name:e,route:e}}else if(typeof T=="string"){let me=$(T,f);me?X=me:X={name:T,route:T}}else X=T;let ge=A({resource:X,meta:I(d,l)}),{mutationMode:$e}=Ae(),Ue=m!=null?m:$e,ve=j==="create",pe=j==="edit",ie=j==="clone";(0,Na.default)((ie||pe)&&Boolean(e)&&!Boolean(r),`[useForm]: action: "${j}", resource: "${Q}", id: ${k} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let mr=Fo({redirectFromProps:s,action:j,redirectOptions:L.redirect}),xt=k!==void 0&&(pe||ie),at=Et({resource:X==null?void 0:X.name,id:k!=null?k:"",queryOptions:{enabled:xt,...g},liveMode:p,onLiveEvent:R,liveParams:x,meta:ge,metaData:ge,dataProviderName:M}),{isFetching:Se}=at,Qe=Ut({mutationOptions:y}),{mutate:Bt,isLoading:fr}=Qe,st=kr({mutationOptions:C}),{mutate:yr,isLoading:Ft}=st,{setWarnWhen:Ie}=It(),Pt=qo();return{...ve||ie?{formLoading:Se||fr,mutationResult:Qe,onFinish:async me=>{Ie(!1);let Ne=Oe=>{Pt({redirect:mr,resource:X,id:Oe,meta:l})};return Ue!=="pessimistic"&&setTimeout(()=>{Ne()}),new Promise((Oe,it)=>{if(Ue!=="pessimistic"&&Oe(),!!X)return Bt({values:me,resource:X.name,successNotification:a,errorNotification:u,meta:ge,metaData:ge,dataProviderName:M,invalidates:i},{onSuccess:(ke,rt,ut)=>{var Nt;o&&o(ke,me,ut);let ct=(Nt=ke==null?void 0:ke.data)==null?void 0:Nt.id;Ne(ct),Oe(ke)},onError:(ke,rt,ut)=>{if(n)return n(ke,me,ut);it()}})})}}:{formLoading:Se||Ft,mutationResult:st,onFinish:async me=>{if(Ie(!1),!X)return;let Ne={id:k!=null?k:"",values:me,resource:X.name,mutationMode:Ue,undoableTimeout:D,successNotification:a,errorNotification:u,meta:ge,metaData:ge,dataProviderName:M,invalidates:i},Oe=()=>{Pt({redirect:mr,resource:X,id:k,meta:l})};return Ue!=="pessimistic"&&setTimeout(()=>{Oe()}),new Promise((it,ke)=>(Ue!=="pessimistic"&&it(),setTimeout(()=>{yr(Ne,{onSuccess:(rt,ut,ct)=>{o&&o(rt,me,ct),Ue==="pessimistic"&&Oe(),it(rt)},onError:(rt,ut,ct)=>{if(n)return n(rt,me,ct);ke()}})})))}},queryResult:at,id:k,setId:J,redirect:(me,Ne)=>{Pt({redirect:me!==void 0?me:pe?"list":"edit",resource:X,id:Ne!=null?Ne:k,meta:l})}}};var Oa=require("react");var qo=()=>{let{show:e,edit:t,list:r,create:o}=ae();return(0,Oa.useCallback)(({redirect:s,resource:a,id:u,meta:d={}})=>{if(s&&a)return!!a.show&&s==="show"&&u?e(a,u,void 0,d):!!a.edit&&s==="edit"&&u?t(a,u,void 0,d):!!a.create&&s==="create"?o(a,void 0,d):r(a,"push",d)},[])};var Xr=S(require("react")),se=()=>{let e=(0,Xr.useContext)(Ye);return Xr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.go)!=null?o:()=>()=>{}},[e==null?void 0:e.go])()};var qr=S(require("react")),eo=()=>{let e=(0,qr.useContext)(Ye);return qr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.back)!=null?o:()=>()=>{}},[e==null?void 0:e.back])()};var ae=()=>{let{resources:e}=B(),t=O(),{useHistory:r}=_(),o=r(),n=Y(),s=se(),a=eo(),u=(f,P="push")=>{t==="legacy"?o[P](f):s({to:f,type:P})},d=(f,P={})=>{var T,E,b;if(t==="legacy"){let v=typeof f=="string"?(T=$(f,e,!0))!=null?T:{name:f,route:f}:f,h=fe(v,e,!0).find(U=>U.action==="create");return h?Te(h.route,v==null?void 0:v.meta,n,P):""}else{let v=typeof f=="string"?(E=$(f,e))!=null?E:{name:f}:f,h=(b=fe(v,e).find(U=>U.action==="create"))==null?void 0:b.route;return h?s({to:Te(h,v==null?void 0:v.meta,n,P),type:"path"}):""}},l=(f,P,T={})=>{var b,v,h;let E=encodeURIComponent(P);if(t==="legacy"){let U=typeof f=="string"?(b=$(f,e,!0))!=null?b:{name:f,route:f}:f,w=fe(U,e,!0).find(A=>A.action==="edit");return w?Te(w.route,U==null?void 0:U.meta,n,{...T,id:E}):""}else{let U=typeof f=="string"?(v=$(f,e))!=null?v:{name:f}:f,w=(h=fe(U,e).find(A=>A.action==="edit"))==null?void 0:h.route;return w?s({to:Te(w,U==null?void 0:U.meta,n,{...T,id:E}),type:"path"}):""}},m=(f,P,T={})=>{var b,v,h;let E=encodeURIComponent(P);if(t==="legacy"){let U=typeof f=="string"?(b=$(f,e,!0))!=null?b:{name:f,route:f}:f,w=fe(U,e,!0).find(A=>A.action==="clone");return w?Te(w.route,U==null?void 0:U.meta,n,{...T,id:E}):""}else{let U=typeof f=="string"?(v=$(f,e))!=null?v:{name:f}:f,w=(h=fe(U,e).find(A=>A.action==="clone"))==null?void 0:h.route;return w?s({to:Te(w,U==null?void 0:U.meta,n,{...T,id:E}),type:"path"}):""}},p=(f,P,T={})=>{var b,v,h;let E=encodeURIComponent(P);if(t==="legacy"){let U=typeof f=="string"?(b=$(f,e,!0))!=null?b:{name:f,route:f}:f,w=fe(U,e,!0).find(A=>A.action==="show");return w?Te(w.route,U==null?void 0:U.meta,n,{...T,id:E}):""}else{let U=typeof f=="string"?(v=$(f,e))!=null?v:{name:f}:f,w=(h=fe(U,e).find(A=>A.action==="show"))==null?void 0:h.route;return w?s({to:Te(w,U==null?void 0:U.meta,n,{...T,id:E}),type:"path"}):""}},R=(f,P={})=>{var T,E,b;if(t==="legacy"){let v=typeof f=="string"?(T=$(f,e,!0))!=null?T:{name:f,route:f}:f,h=fe(v,e,!0).find(U=>U.action==="list");return h?Te(h.route,v==null?void 0:v.meta,n,P):""}else{let v=typeof f=="string"?(E=$(f,e))!=null?E:{name:f}:f,h=(b=fe(v,e).find(U=>U.action==="list"))==null?void 0:b.route;return h?s({to:Te(h,v==null?void 0:v.meta,n,P),type:"path"}):""}};return{create:(f,P="push",T={})=>{u(d(f,T),P)},createUrl:d,edit:(f,P,T="push",E={})=>{u(l(f,P,E),T)},editUrl:l,clone:(f,P,T="push",E={})=>{u(m(f,P,E),T)},cloneUrl:m,show:(f,P,T="push",E={})=>{u(p(f,P,E),T)},showUrl:p,list:(f,P="push",T={})=>{u(R(f,T),P)},listUrl:R,push:(f,...P)=>{t==="legacy"?o.push(f,...P):s({to:f,type:"push"})},replace:(f,...P)=>{t==="legacy"?o.replace(f,...P):s({to:f,type:"replace"})},goBack:()=>{t==="legacy"?o.goBack():a()}}};var to=S(require("react")),Ha=S(require("warn-once"));var zs=({resource:e,id:t,successNotification:r,errorNotification:o,meta:n,metaData:s,liveMode:a,onLiveEvent:u,dataProviderName:d,queryOptions:l}={})=>{let m=O(),{resources:p}=B(),{useParams:R}=_(),{resource:x,id:D}=Y(),{resource:M,id:i}=R(),g=G(),y=x==null?void 0:x.name,C=!e||e===(m==="legacy"?M:y)?t!=null?t:m==="legacy"?i:D:t,[L,f]=(0,to.useState)(C);to.default.useEffect(()=>{f(C)},[C]);let P=e!=null?e:m==="legacy"?M:y,T,E=Je();if(m==="legacy")P&&(T=E(P));else if(e){let h=$(e,p);h?T=h:T={name:e,route:e}}else if(typeof x=="string"){let h=$(x,p);h?T=h:T={name:x,route:x}}else T=x;let b=g({resource:T,meta:I(n,s)});return(0,Ha.default)(Boolean(e)&&!Boolean(t),`[useShow]: resource: "${P}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`),{queryResult:Et({resource:T==null?void 0:T.name,id:L!=null?L:"",queryOptions:{enabled:L!==void 0,...l},successNotification:r,errorNotification:o,meta:b,metaData:b,liveMode:a,onLiveEvent:u,dataProviderName:d}),showId:L,setShowId:f}};var At=require("react"),Ka=require("papaparse"),Wa=S(require("lodash/chunk"));var _s=({resourceName:e,resource:t,mapData:r=m=>m,paparseOptions:o,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:s,meta:a,metaData:u,onProgress:d,dataProviderName:l}={})=>{let[m,p]=(0,At.useState)(0),[R,x]=(0,At.useState)(0),[D,M]=(0,At.useState)(!1),{resource:i}=B(t!=null?t:e),g=Fr(),y=Ut(),C;n===1?C=y:C=g;let L=()=>{x(0),p(0),M(!1)},f=T=>{let E={succeeded:T.filter(b=>b.type==="success"),errored:T.filter(b=>b.type==="error")};s==null||s(E),M(!1)};(0,At.useEffect)(()=>{d==null||d({totalAmount:R,processedAmount:m})},[R,m]);let P=({file:T})=>(L(),new Promise(E=>{M(!0),(0,Ka.parse)(T,{complete:async({data:b})=>{let v=Gt(b,r);if(x(v.length),n===1){let h=v.map(w=>async()=>{var H;return{response:await y.mutateAsync({resource:(H=i==null?void 0:i.name)!=null?H:"",values:w,successNotification:!1,errorNotification:!1,dataProviderName:l,meta:I(a,u),metaData:I(a,u)}),value:w}}),U=await Mr(h,({response:w,value:A})=>(p(N=>N+1),{response:[w.data],type:"success",request:[A]}),(w,A)=>({response:[w],type:"error",request:[v[A]]}));E(U)}else{let h=(0,Wa.default)(v,n),U=h.map(A=>async()=>{var k;return{response:await g.mutateAsync({resource:(k=i==null?void 0:i.name)!=null?k:"",values:A,successNotification:!1,errorNotification:!1,dataProviderName:l,meta:I(a,u),metaData:I(a,u)}),value:A,currentBatchLength:A.length}}),w=await Mr(U,({response:A,currentBatchLength:N,value:H})=>(p(k=>k+N),{response:A.data,type:"success",request:H}),(A,N)=>({response:[A],type:"error",request:h[N]}));E(w)}},...o})}).then(E=>(f(E),E)));return{inputProps:{type:"file",accept:".csv",onChange:T=>{T.target.files&&T.target.files.length>0&&P({file:T.target.files[0]})}},mutationResult:C,isLoading:D,handleChange:P}};var sr=require("react"),js=({defaultVisible:e=!1}={})=>{let[t,r]=(0,sr.useState)(e),o=(0,sr.useCallback)(()=>r(!0),[t]),n=(0,sr.useCallback)(()=>r(!1),[t]);return{visible:t,show:o,close:n}};var Ga=S(require("react"));var St=()=>{let e=O(),{resource:t,resources:r}=B(),o=Y();return Ga.default.useCallback(({resource:s,action:a,meta:u})=>{var R;let d=s||t;if(!d)return;let m=(R=fe(d,r,e==="legacy").find(x=>x.action===a))==null?void 0:R.route;return m?Te(m,d==null?void 0:d.meta,o,u):void 0},[r,t,o])};var $a=({resource:e,action:t,meta:r,legacy:o})=>St()({resource:e,action:t,meta:r,legacy:o});var ro=S(require("react")),ot=()=>{let e=(0,ro.useContext)(Ye);return e!=null&&e.Link?e.Link:({to:r,...o})=>ro.default.createElement("a",{href:r,...o})};var _a=require("react");var en=S(require("react")),Xe={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Zs=en.default.createContext(Xe),ir=Zs,za=({children:e,useHistory:t,useLocation:r,useParams:o,Prompt:n,Link:s,routes:a})=>en.default.createElement(ir.Provider,{value:{useHistory:t!=null?t:Xe.useHistory,useLocation:r!=null?r:Xe.useLocation,useParams:o!=null?o:Xe.useParams,Prompt:n!=null?n:Xe.Prompt,Link:s!=null?s:Xe.Link,routes:a!=null?a:Xe.routes}},e);var _=()=>{let e=(0,_a.useContext)(ir),{useHistory:t,useLocation:r,useParams:o,Prompt:n,Link:s,routes:a}=e!=null?e:Xe;return{useHistory:t,useLocation:r,useParams:o,Prompt:n,Link:s,routes:a}};var Za=require("@tanstack/react-query"),Ya=require("react");var tn=S(require("react"));var yt=tn.default.createContext({}),ja=({can:e,children:t})=>tn.default.createElement(yt.Provider,{value:{can:e}},t);var oo=e=>{let{icon:t,list:r,edit:o,create:n,show:s,clone:a,children:u,meta:d,options:l,...m}=e,{icon:p,...R}=d!=null?d:{},{icon:x,...D}=l!=null?l:{};return{...m,...d?{meta:R}:{},...l?{options:D}:{}}};var rn=({action:e,resource:t,params:r,queryOptions:o})=>{let{can:n}=(0,Ya.useContext)(yt),{resource:s,...a}=r!=null?r:{},u=oo(s!=null?s:{}),d=(0,Za.useQuery)(["useCan",{action:e,resource:t,params:{...a,resource:u},enabled:o==null?void 0:o.enabled}],()=>{var l;return(l=n==null?void 0:n({action:e,resource:t,params:a}))!=null?l:Promise.resolve({can:!0})},{enabled:typeof n<"u",...o,retry:!1});return typeof n>"u"?{data:{can:!0}}:d};var Ja=require("react");var Ys=()=>{let{can:e}=(0,Ja.useContext)(yt);return{can:e}};var qe=require("react"),Xa=S(require("lodash/uniqBy")),qa=S(require("lodash/debounce")),ur=S(require("lodash/get"));var Js=e=>{var $e,Ue,ve;let[t,r]=(0,qe.useState)([]),[o,n]=(0,qe.useState)([]),[s,a]=(0,qe.useState)([]),{resource:u,sort:d,sorters:l,filters:m=[],optionLabel:p="title",optionValue:R="id",debounce:x=300,successNotification:D,errorNotification:M,defaultValueQueryOptions:i,queryOptions:g,fetchSize:y,pagination:C,hasPagination:L=!1,liveMode:f,defaultValue:P=[],onLiveEvent:T,onSearch:E,liveParams:b,meta:v,metaData:h,dataProviderName:U}=e,{resources:w}=B(),A=G(),N=$(u,w),H=($e=N==null?void 0:N.name)!=null?$e:u,k=A({resource:N,meta:I(v,h)}),J=Array.isArray(P)?P:[P],Q=(0,qe.useCallback)(pe=>{a(pe.data.map(ie=>({label:(0,ur.default)(ie,p),value:(0,ur.default)(ie,R)})))},[p,R]),K=i!=null?i:g,j=wr({resource:H,ids:J,queryOptions:{...K,enabled:J.length>0&&((Ue=i==null?void 0:i.enabled)!=null?Ue:!0),onSuccess:pe=>{var ie;Q(pe),(ie=K==null?void 0:K.onSuccess)==null||ie.call(K,pe)}},meta:k,metaData:k,liveMode:"off",dataProviderName:U}),Ve=(0,qe.useCallback)(pe=>{n(pe.data.map(ie=>({label:(0,ur.default)(ie,p),value:(0,ur.default)(ie,R)})))},[p,R]),X=Dt({resource:H,sorters:I(l,d),filters:m.concat(t),pagination:{current:C==null?void 0:C.current,pageSize:(ve=C==null?void 0:C.pageSize)!=null?ve:y,mode:C==null?void 0:C.mode},hasPagination:L,queryOptions:{...g,onSuccess:pe=>{var ie;Ve(pe),(ie=g==null?void 0:g.onSuccess)==null||ie.call(g,pe)}},successNotification:D,errorNotification:M,meta:k,metaData:k,liveMode:f,liveParams:b,onLiveEvent:T,dataProviderName:U}),ge=pe=>{if(E){r(E(pe));return}if(pe)r([{field:p,operator:"contains",value:pe}]);else{r([]);return}};return{queryResult:X,defaultValueQueryResult:j,options:(0,qe.useMemo)(()=>(0,Xa.default)([...o,...s],"value"),[o,s]),onSearch:(0,qa.default)(ge,x)}};var We=S(require("react")),on=S(require("qs")),cr=S(require("lodash/differenceWith")),pr=S(require("lodash/isEqual")),rs=S(require("warn-once"));var es=[],ts=[];function Xs({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:o,initialSorter:n,permanentSorter:s=ts,defaultSetFilterBehavior:a,initialFilter:u,permanentFilter:d=es,filters:l,sorters:m,syncWithLocation:p,resource:R,successNotification:x,errorNotification:D,queryOptions:M,liveMode:i,onLiveEvent:g,liveParams:y,meta:C,metaData:L,dataProviderName:f}={}){var un,cn,pn,dn,ln,mn,fn,yn,gn,Tn;let{syncWithLocation:P}=Jr(),T=p!=null?p:P,E=zo(i),b=O(),{useLocation:v}=_(),{search:h,pathname:U}=v(),w=G(),A=Y(),N=((l==null?void 0:l.mode)||"server")==="server",H=((m==null?void 0:m.mode)||"server")==="server",k=r===!1?"off":"server",J=((un=o==null?void 0:o.mode)!=null?un:k)!=="off",Q=I(o==null?void 0:o.current,e),K=I(o==null?void 0:o.pageSize,t),j=I(C,L),{parsedCurrent:Ve,parsedPageSize:X,parsedSorter:ge,parsedFilters:$e}=$t(h!=null?h:"?"),Ue=I(l==null?void 0:l.initial,u),ve=(cn=I(l==null?void 0:l.permanent,d))!=null?cn:es,pe=I(m==null?void 0:m.initial,n),ie=(pn=I(m==null?void 0:m.permanent,s))!=null?pn:ts,mr=(dn=I(l==null?void 0:l.defaultBehavior,a))!=null?dn:"merge",xt,at,Se,Qe;T?(xt=((ln=A==null?void 0:A.params)==null?void 0:ln.current)||Ve||Q||1,at=((mn=A==null?void 0:A.params)==null?void 0:mn.pageSize)||X||K||10,Se=((fn=A==null?void 0:A.params)==null?void 0:fn.sorters)||(ge.length?ge:pe),Qe=((yn=A==null?void 0:A.params)==null?void 0:yn.filters)||($e.length?$e:Ue)):(xt=Q||1,at=K||10,Se=pe,Qe=Ue);let{replace:Bt}=ae(),fr=se(),{resource:st}=B(R),yr=w({resource:st,meta:j}),Ft=st==null?void 0:st.name;We.default.useEffect(()=>{(0,rs.default)(typeof Ft>"u","useTable: `resource` is not defined.")},[Ft]);let[Ie,Pt]=(0,We.useState)(Zt(ie,Se!=null?Se:[])),[Ct,Vt]=(0,We.useState)(jt(ve,Qe!=null?Qe:[])),[bt,uo]=(0,We.useState)(xt),[tt,me]=(0,We.useState)(at),Ne=({pagination:{current:de,pageSize:we},sorter:gr,filters:Tr})=>{var Rr;if(b==="new")return(Rr=fr({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...J?{current:de,pageSize:we}:{},sorters:gr,filters:Tr,...Oe()}}))!=null?Rr:"";{let Ot=on.default.parse(h==null?void 0:h.substring(1)),co=zt({pagination:{pageSize:we,current:de},sorters:Ie!=null?Ie:gr,filters:Tr,...Ot});return`${U!=null?U:""}?${co!=null?co:""}`}};(0,We.useEffect)(()=>{h===""&&(uo(xt),me(at),Pt(Zt(ie,Se!=null?Se:[])),Vt(jt(ve,Qe!=null?Qe:[])))},[h]);let Oe=()=>{var de;if(b==="new"){let{sorters:we,filters:gr,pageSize:Tr,current:Rr,...Ot}=(de=A==null?void 0:A.params)!=null?de:{};return Ot}else{let{sorter:we,filters:gr,pageSize:Tr,current:Rr,...Ot}=on.default.parse(h,{ignoreQueryPrefix:!0});return Ot}};(0,We.useEffect)(()=>{if(T){let de=Oe();if(b==="new")fr({type:"replace",options:{keepQuery:!0},query:{...J?{pageSize:tt,current:bt}:{},sorters:(0,cr.default)(Ie,ie,pr.default),filters:(0,cr.default)(Ct,ve,pr.default)}});else{let we=zt({...J?{pagination:{pageSize:tt,current:bt}}:{},sorters:(0,cr.default)(Ie,ie,pr.default),filters:(0,cr.default)(Ct,ve,pr.default),...de});return Bt==null?void 0:Bt(`${U}?${we}`,void 0,{shallow:!0})}}},[T,bt,tt,Ie,Ct]);let it=Dt({resource:Ft,hasPagination:r,pagination:{current:bt,pageSize:tt,mode:o==null?void 0:o.mode},filters:N?dt(ve,Ct):void 0,sorters:H?_t(ie,Ie):void 0,queryOptions:M,successNotification:x,errorNotification:D,meta:yr,metaData:yr,liveMode:E,liveParams:y,onLiveEvent:g,dataProviderName:f}),ke=de=>{Vt(we=>dt(ve,de,we))},rt=de=>{Vt(dt(ve,de))},ut=de=>{Vt(we=>dt(ve,de(we)))},ct=(de,we=mr)=>{typeof de=="function"?ut(de):we==="replace"?rt(de):ke(de)},Nt=de=>{Pt(()=>_t(ie,de))};return{tableQueryResult:it,sorters:Ie,setSorters:Nt,sorter:Ie,setSorter:Nt,filters:Ct,setFilters:ct,current:bt,setCurrent:uo,pageSize:tt,setPageSize:me,pageCount:tt?Math.ceil(((Tn=(gn=it.data)==null?void 0:gn.total)!=null?Tn:0)/tt):1,createLinkForSyncWithLocation:Ne}}var an=require("react"),dr=require("@tanstack/react-query");var nn=S(require("react")),gt=nn.default.createContext({}),os=({create:e,get:t,update:r,children:o})=>nn.default.createElement(gt.Provider,{value:{create:e,get:t,update:r}},o);var Le=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,dr.useQueryClient)(),o=(0,an.useContext)(gt),n=W(),{resources:s}=(0,an.useContext)(Ze),{data:a,refetch:u,isLoading:d}=Pr({v3LegacyAuthProviderCompatible:Boolean(n==null?void 0:n.isLegacy),queryOptions:{enabled:!!o}}),l=(0,dr.useMutation)(async p=>{var M,i,g,y,C;let R=$(p.resource,s),x=I((M=R==null?void 0:R.meta)==null?void 0:M.audit,(i=R==null?void 0:R.options)==null?void 0:i.audit,(y=(g=R==null?void 0:R.options)==null?void 0:g.auditLog)==null?void 0:y.permissions);if(x&&!Uo(x,p.action))return;let D;return d&&(D=await u()),await((C=o.create)==null?void 0:C.call(o,{...p,author:a!=null?a:D==null?void 0:D.data}))},e),m=(0,dr.useMutation)(async p=>{var R;return await((R=o.update)==null?void 0:R.call(o,p))},{onSuccess:p=>{if(p!=null&&p.resource){let R=te(p==null?void 0:p.resource);r.invalidateQueries(R.logList())}},...t});return{log:l,rename:m}};var ns=require("react"),as=require("@tanstack/react-query");var qs=({resource:e,action:t,meta:r,author:o,metaData:n,queryOptions:s})=>{let{get:a}=(0,ns.useContext)(gt),u=te(e,void 0,n);return(0,as.useQuery)(u.logList(r),()=>{var l;return(l=a==null?void 0:a({resource:e,action:t,author:o,meta:r,metaData:n}))!=null?l:Promise.resolve([])},{enabled:typeof a<"u",...s,retry:!1})};var ss=require("react"),is=require("@tanstack/react-query");var Me=()=>{let{resources:e}=B(),t=(0,is.useQueryClient)();return(0,ss.useCallback)(({resource:o,dataProviderName:n,invalidates:s,id:a})=>{if(s===!1)return;let u=te(o,F(o,n,e));s.forEach(d=>{switch(d){case"all":t.invalidateQueries(u.all);break;case"list":t.invalidateQueries(u.list());break;case"many":t.invalidateQueries(u.many());break;case"resourceAll":t.invalidateQueries(u.resourceAll);break;case"detail":t.invalidateQueries(u.detail(a||""));break;default:break}})},[])};var us=require("react"),cs=S(require("warn-once"));var ei=({meta:e={}}={})=>{let t=O(),{i18nProvider:r}=(0,us.useContext)(Fe),o=Y(),n=V(),{resources:s,resource:a,action:u}=B(),d=[];if(!(a!=null&&a.name))return{breadcrumbs:d};let l=m=>{var R,x,D,M,i,g,y,C;let p=typeof m=="string"?(R=$(m,s,t==="legacy"))!=null?R:{name:m}:m;if(p){let L=I((x=p==null?void 0:p.meta)==null?void 0:x.parent,p==null?void 0:p.parentName);L&&l(L);let f=fe(p,s,t==="legacy").find(E=>E.action==="list"),P=(D=f==null?void 0:f.resource)!=null&&D.list?f==null?void 0:f.route:void 0,T=P?t==="legacy"?P:Te(P,p==null?void 0:p.meta,o,e):void 0;d.push({label:(g=I((M=p.meta)==null?void 0:M.label,(i=p.options)==null?void 0:i.label))!=null?g:n(`${p.name}.${p.name}`,mt(p.name)),href:T,icon:I((y=p.meta)==null?void 0:y.icon,(C=p.options)==null?void 0:C.icon,p.icon)})}};if(l(a),u&&u!=="list"){let m=`actions.${u}`,p=n(m);typeof r<"u"&&p===m?((0,cs.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),d.push({label:n(`buttons.${u}`,mt(u))})):d.push({label:n(m,mt(u))})}return{breadcrumbs:d}};var no=S(require("react"));var Qt=(e,t,r=!1)=>{let o=[],n=De(e,t);for(;n;)o.push(n),n=De(n,t);return o.reverse(),`/${[...o,e].map(a=>{var u,d;return ye((d=(u=r?a.route:void 0)!=null?u:a.identifier)!=null?d:a.name)}).join("/").replace(/^\//,"")}`};var ps=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{var l,m;let s=[],a=De(n,e);for(;a;)s.push(a),a=De(a,e);s.reverse();let u=r;s.forEach(p=>{var x,D;let R=(D=(x=t?p.route:void 0)!=null?x:p.identifier)!=null?D:p.name;u.children[R]||(u.children[R]={item:p,children:{}}),u=u.children[R]});let d=(m=(l=t?n.route:void 0)!=null?l:n.identifier)!=null?m:n.name;u.children[d]||(u.children[d]={item:n,children:{}})});let o=n=>{let s=[];return Object.keys(n.children).forEach(a=>{let u=Qt(n.children[a].item,e,t),d={...n.children[a].item,key:u,children:o(n.children[a])};s.push(d)}),s};return o(r)};var ds=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),ls=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=V(),o=St(),n=O(),{resource:s,resources:a}=B(),{pathname:u}=Y(),{useLocation:d}=_(),{pathname:l}=d(),m=n==="legacy"?ds(l):u?ds(u):void 0,p=`/${(m!=null?m:"").replace(/^\//,"")}`,R=s?Qt(s,a,n==="legacy"):p!=null?p:"",x=no.default.useMemo(()=>{if(!s)return[];let i=De(s,a),g=[Qt(s,a)];for(;i;)g.push(Qt(i,a)),i=De(i,a);return g},[]),D=no.default.useCallback(i=>{var y,C,L,f,P,T,E,b;if(((L=(y=i==null?void 0:i.meta)==null?void 0:y.hide)!=null?L:(C=i==null?void 0:i.options)==null?void 0:C.hide)||!(i!=null&&i.list)&&i.children.length===0)return;let g=i.list?o({resource:i,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&g&&g.match(/(\/|^):(.+?)(\/|$){1}/)))return{...i,route:g,icon:I((f=i.meta)==null?void 0:f.icon,(P=i.options)==null?void 0:P.icon,i.icon),label:(b=I((T=i==null?void 0:i.meta)==null?void 0:T.label,(E=i==null?void 0:i.options)==null?void 0:E.label))!=null?b:r(`${i.name}.${i.name}`,lt(i.name,"plural"))}},[n,e,r,t]),M=no.default.useMemo(()=>{let i=ps(a,n==="legacy"),g=y=>y.flatMap(C=>{let L=g(C.children),f=D({...C,children:L});return f?[f]:[]});return g(i)},[a,n,D]);return{defaultOpenKeys:x,selectedKey:R,menuItems:M}};var G=()=>{let{params:e}=Y();return({resource:r,meta:o}={})=>{let{meta:n}=oo(r!=null?r:{}),{filters:s,sorters:a,current:u,pageSize:d,...l}=e!=null?e:{};return{...n,...l,...o}}};var ms=()=>{let[e,t]=(0,Ge.useState)(),r=V(),{push:o}=ae(),n=se(),s=O(),{resource:a,action:u}=B();return(0,Ge.useEffect)(()=>{a&&u&&t(r("pages.error.info",{action:u,resource:a==null?void 0:a.name},`You may have forgotten to add the "${u}" component to "${a==null?void 0:a.name}" resource.`))},[a,u]),Ge.default.createElement(Ge.default.Fragment,null,Ge.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Ge.default.createElement("p",null,e),Ge.default.createElement("button",{onClick:()=>{s==="legacy"?o("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))};var le=S(require("react"));var Lr=()=>{let[e,t]=(0,le.useState)(""),[r,o]=(0,le.useState)(""),n=V(),s=W(),{mutate:a}=vt({v3LegacyAuthProviderCompatible:Boolean(s==null?void 0:s.isLegacy)});return le.default.createElement(le.default.Fragment,null,le.default.createElement("h1",null,n("pages.login.title","Sign in your account")),le.default.createElement("form",{onSubmit:u=>{u.preventDefault(),a({username:e,password:r})}},le.default.createElement("table",null,le.default.createElement("tbody",null,le.default.createElement("tr",null,le.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),le.default.createElement("td",null,le.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),le.default.createElement("tr",null,le.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),le.default.createElement("td",null,le.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>o(u.target.value)}))))),le.default.createElement("br",null),le.default.createElement("input",{type:"submit",value:"login"})))};var Tt=S(require("react"));var q=S(require("react"));var fs=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:n,wrapperProps:s,renderContent:a,formProps:u,title:d=void 0})=>{let l=O(),m=ot(),{Link:p}=_(),R=l==="legacy"?p:m,[x,D]=(0,q.useState)(""),[M,i]=(0,q.useState)(""),[g,y]=(0,q.useState)(!1),C=V(),L=W(),{mutate:f}=vt({v3LegacyAuthProviderCompatible:Boolean(L==null?void 0:L.isLegacy)}),P=(b,v)=>b?typeof b=="string"?q.default.createElement(R,{to:b},v):b:null,T=()=>e?e.map(b=>{var v;return q.default.createElement("div",{key:b.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},q.default.createElement("button",{onClick:()=>f({providerName:b.name}),style:{display:"flex",alignItems:"center"}},b==null?void 0:b.icon,(v=b.label)!=null?v:q.default.createElement("label",null,b.label)))}):null,E=q.default.createElement("div",{...n},q.default.createElement("h1",{style:{textAlign:"center"}},C("pages.login.title","Sign in to your account")),T(),q.default.createElement("hr",null),q.default.createElement("form",{onSubmit:b=>{b.preventDefault(),f({email:x,password:M,remember:g})},...u},q.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},q.default.createElement("label",null,C("pages.login.fields.email","Email")),q.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:x,onChange:b=>D(b.target.value)}),q.default.createElement("label",null,C("pages.login.fields.password","Password")),q.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:M,onChange:b=>i(b.target.value)}),o!=null?o:q.default.createElement(q.default.Fragment,null,q.default.createElement("label",null,C("pages.login.buttons.rememberMe","Remember me"),q.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:g,value:g.toString(),onChange:()=>{y(!g)}}))),q.default.createElement("br",null),r!=null?r:P("/forgot-password",C("pages.login.buttons.forgotPassword","Forgot password?")),q.default.createElement("input",{type:"submit",value:C("pages.login.signin","Sign in")}),t!=null?t:q.default.createElement("span",null,C("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",P("/register",C("pages.login.register","Sign up"))))));return q.default.createElement("div",{...s},a?a(E,d):E)};var ce=S(require("react"));var ys=({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:n,formProps:s,title:a=void 0})=>{let u=O(),d=ot(),{Link:l}=_(),m=u==="legacy"?l:d,[p,R]=(0,ce.useState)(""),[x,D]=(0,ce.useState)(""),M=V(),i=W(),{mutate:g,isLoading:y}=Cr({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),C=(P,T)=>P?typeof P=="string"?ce.default.createElement(m,{to:P},T):P:null,L=()=>e?e.map(P=>{var T;return ce.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ce.default.createElement("button",{onClick:()=>g({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,(T=P.label)!=null?T:ce.default.createElement("label",null,P.label)))}):null,f=ce.default.createElement("div",{...o},ce.default.createElement("h1",{style:{textAlign:"center"}},M("pages.register.title","Sign up for your account")),L(),ce.default.createElement("hr",null),ce.default.createElement("form",{onSubmit:P=>{P.preventDefault(),g({email:p,password:x})},...s},ce.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ce.default.createElement("label",null,M("pages.register.fields.email","Email")),ce.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:p,onChange:P=>R(P.target.value)}),ce.default.createElement("label",null,M("pages.register.fields.password","Password")),ce.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:x,onChange:P=>D(P.target.value)}),ce.default.createElement("input",{type:"submit",value:M("pages.register.buttons.submit","Sign up"),disabled:y}),t!=null?t:ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("span",null,M("pages.login.buttons.haveAccount","Have an account?")," ",C("/login",M("pages.login.signin","Sign in")))))));return ce.default.createElement("div",{...r},n?n(f,a):f)};var Pe=S(require("react"));var gs=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:n,title:s=void 0})=>{let a=V(),u=O(),d=ot(),{Link:l}=_(),m=u==="legacy"?l:d,[p,R]=(0,Pe.useState)(""),{mutate:x,isLoading:D}=br(),M=(g,y)=>g?typeof g=="string"?Pe.default.createElement(m,{to:g},y):g:null,i=Pe.default.createElement("div",{...r},Pe.default.createElement("h1",{style:{textAlign:"center"}},a("pages.forgotPassword.title","Forgot your password?")),Pe.default.createElement("hr",null),Pe.default.createElement("form",{onSubmit:g=>{g.preventDefault(),x({email:p})},...n},Pe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Pe.default.createElement("label",null,a("pages.forgotPassword.fields.email","Email")),Pe.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:p,onChange:g=>R(g.target.value)}),Pe.default.createElement("input",{type:"submit",disabled:D,value:a("pages.forgotPassword.buttons.submit","Send reset instructions")}),Pe.default.createElement("br",null),e!=null?e:Pe.default.createElement("span",null,a("pages.register.buttons.haveAccount","Have an account? ")," ",M("/login",a("pages.login.signin","Sign in"))))));return Pe.default.createElement("div",{...t},o?o(i,s):i)};var Ce=S(require("react"));var Ts=({wrapperProps:e,contentProps:t,renderContent:r,formProps:o,title:n=void 0})=>{let s=V(),a=W(),{mutate:u,isLoading:d}=hr({v3LegacyAuthProviderCompatible:Boolean(a==null?void 0:a.isLegacy)}),[l,m]=(0,Ce.useState)(""),[p,R]=(0,Ce.useState)(""),x=Ce.default.createElement("div",{...t},Ce.default.createElement("h1",{style:{textAlign:"center"}},s("pages.updatePassword.title","Update Password")),Ce.default.createElement("hr",null),Ce.default.createElement("form",{onSubmit:D=>{D.preventDefault(),u({password:l,confirmPassword:p})},...o},Ce.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ce.default.createElement("label",null,s("pages.updatePassword.fields.password","New Password")),Ce.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:l,onChange:D=>m(D.target.value)}),Ce.default.createElement("label",null,s("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ce.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:p,onChange:D=>R(D.target.value)}),Ce.default.createElement("input",{type:"submit",disabled:d,value:s("pages.updatePassword.buttons.submit","Update")}))));return Ce.default.createElement("div",{...e},r?r(x,n):x)};var Rs=e=>{let{type:t}=e;return Tt.default.createElement(Tt.default.Fragment,null,(()=>{switch(t){case"register":return Tt.default.createElement(ys,{...e});case"forgotPassword":return Tt.default.createElement(gs,{...e});case"updatePassword":return Tt.default.createElement(Ts,{...e});default:return Tt.default.createElement(fs,{...e})}})())};var be=S(require("react")),ao=()=>be.default.createElement(be.default.Fragment,null,be.default.createElement("h1",null,"Welcome on board"),be.default.createElement("p",null,"Your configuration is completed."),be.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",be.default.createElement("code",null,"`resources`")," property of ",be.default.createElement("code",null,"`<Refine>`")),be.default.createElement("div",{style:{display:"flex",gap:8}},be.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},be.default.createElement("button",null,"Documentation")),be.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},be.default.createElement("button",null,"Examples")),be.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},be.default.createElement("button",null,"Community"))));var z=S(require("react"));var ti=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:z.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:z.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),z.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:z.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),z.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:z.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],xs=()=>{let e=Ir("(max-width: 1010px)"),t=Ir("(max-width: 650px)"),r=()=>t?"1, 280px":e?"2, 280px":"4, 208px",o=()=>t?"32px":e?"40px":"48px",n=()=>t?"16px":e?"20px":"24px";return z.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},z.default.createElement("div",{style:{height:"89px"}}),z.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},z.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),z.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),z.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},z.default.createElement("h1",{style:{fontSize:o(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),z.default.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),z.default.createElement("div",{style:{height:"64px"}}),z.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},ti.map(s=>z.default.createElement(ri,{key:`welcome-page-${s.title}`,card:s}))),z.default.createElement("div",{style:{height:"64px"}}))},ri=({card:e})=>{let{title:t,description:r,icon:o,link:n}=e,[s,a]=(0,z.useState)(!1);return z.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},z.default.createElement("div",{style:{display:"flex",alignItems:"center"}},z.default.createElement("a",{onPointerEnter:()=>a(!0),onPointerLeave:()=>a(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},o,z.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),z.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...s&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),z.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))};var oe=S(require("react")),lr=require("@tanstack/react-query"),Ds=require("@tanstack/react-query-devtools");var Cs=require("react");var nt=require("react");var oi="4.14.3",Ps=()=>{let e=vr(),t=(0,nt.useContext)(gt),r=(0,nt.useContext)(je),o=(0,nt.useContext)(ir),n=(0,nt.useContext)(rr),{i18nProvider:s}=(0,nt.useContext)(Fe),a=(0,nt.useContext)(nr),u=(0,nt.useContext)(yt),{resources:d}=B(),l=!!t.create||!!t.get||!!t.update,m=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),p=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,R=!!n,x=!!(s!=null&&s.changeLocale)||!!(s!=null&&s.getLocale)||!!(s!=null&&s.translate),D=!!a.close||!!a.open,M=!!u.can;return{providers:{auth:e,auditLog:l,live:m,router:p,data:R,i18n:x,notification:D,accessControl:M},version:oi,resourceCount:d.length}};var ni=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},bs=()=>{let e=Ps();return(0,Cs.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${ni(e)}`},[]),null};var hs=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(n=>!t.includes(n));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1};var sn=S(require("react")),vs=e=>{let t=sn.default.useRef(!1);sn.default.useEffect(()=>{t.current===!1&&e&&hs(e)&&(t.current=!0)},[e])};var Es=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:o,routerProvider:n,notificationProvider:s,accessControlProvider:a,auditLogProvider:u,resources:d,DashboardPage:l,ReadyPage:m,LoginPage:p,catchAll:R,children:x,liveProvider:D,i18nProvider:M,Title:i,Layout:g,Sider:y,Header:C,Footer:L,OffLayoutArea:f,onLiveEvent:P,options:T})=>{let{optionsWithDefaults:E,disableTelemetryWithDefault:b,reactQueryWithDefaults:v}=Bo({options:T}),h=Kr(()=>{var N;return v.clientConfig instanceof lr.QueryClient?v.clientConfig:new lr.QueryClient({...v.clientConfig,defaultOptions:{...v.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(N=v.clientConfig.defaultOptions)==null?void 0:N.queries}}})},[v.clientConfig]),w=oe.default.useMemo(()=>typeof s=="function"?s:()=>s!=null?s:{},[s])();if(vs(n),o&&!n&&(d!=null?d:[]).length===0)return m?oe.default.createElement(m,null):oe.default.createElement(ao,null);let{RouterComponent:A=oe.default.Fragment}=n?{}:o!=null?o:{};return oe.default.createElement(lr.QueryClientProvider,{client:h},oe.default.createElement(Da,{...w},oe.default.createElement(Pn,{...e!=null?e:{},isProvided:Boolean(e)},oe.default.createElement(bn,{...t!=null?t:{},isProvided:Boolean(t)},oe.default.createElement(sa,{...r},oe.default.createElement(ca,{liveProvider:D},oe.default.createElement(xa,{value:o&&!n?"legacy":"new"},oe.default.createElement(Ca,{router:n},oe.default.createElement(za,{...o},oe.default.createElement(Ta,{resources:d!=null?d:[]},oe.default.createElement(Ma,{i18nProvider:M},oe.default.createElement(ja,{...a!=null?a:{}},oe.default.createElement(os,{...u!=null?u:{}},oe.default.createElement(Vo,null,oe.default.createElement(Kn,{mutationMode:E.mutationMode,warnWhenUnsavedChanges:E.warnWhenUnsavedChanges,syncWithLocation:E.syncWithLocation,Title:i,undoableTimeout:E.undoableTimeout,catchAll:R,DashboardPage:l,LoginPage:p,Layout:g,Sider:y,Footer:L,Header:C,OffLayoutArea:f,hasDashboard:!!l,liveMode:E.liveMode,onLiveEvent:P,options:E},oe.default.createElement(Aa,null,oe.default.createElement(A,null,x,!b&&oe.default.createElement(bs,null),oe.default.createElement(so,null))))))))))))))))),v.devtoolConfig===!1?null:oe.default.createElement(Ds.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...v.devtoolConfig}))};var io=require("react");var No=({notification:e})=>{let t=V(),{notificationDispatch:r}=Be(),{open:o}=Re(),[n,s]=(0,io.useState)(),a=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||o==null||o({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Wt(e.seconds)},`You have ${Wt(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Wt(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);s(u)}};return(0,io.useEffect)(()=>{a()},[e]),null};var kt=S(require("react"));var Ls=({children:e,Layout:t,Sider:r,Header:o,Title:n,Footer:s,OffLayoutArea:a})=>{let{Layout:u,Footer:d,Header:l,Sider:m,Title:p,OffLayoutArea:R}=wt(),x=t!=null?t:u;return kt.default.createElement(x,{Sider:r!=null?r:m,Header:o!=null?o:l,Footer:s!=null?s:d,Title:n!=null?n:p,OffLayoutArea:a!=null?a:R},e,kt.default.createElement(ai,null))},ai=()=>{let{Prompt:e}=_(),t=V(),{warnWhen:r,setWarnWhen:o}=It(),n=s=>(s.preventDefault(),s.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),s.returnValue);return(0,kt.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),kt.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:o})};var he=S(require("react"));var si=()=>{let e=se(),[t,r]=he.default.useState(void 0);return he.default.useEffect(()=>{t&&e(t)},[t]),he.default.useCallback(n=>{t||r(n)},[t])};function Ms({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:o,loading:n}){var E;let s=W(),a=O(),u=Boolean(s==null?void 0:s.isProvided),d=Boolean(s==null?void 0:s.isLegacy),l=a==="legacy",m=Y(),p=se(),R=si(),{replace:x}=ae(),{useLocation:D}=_(),M=D(),{isLoading:i,isFetching:g,isSuccess:y,data:{authenticated:C,redirectTo:L}={},refetch:f}=Kt({v3LegacyAuthProviderCompatible:d});he.default.useEffect(()=>{f()},[r,o]);let P=he.default.useRef({status:i?"initial":"pending",content:n!=null?n:null});g?P.current.status="pending":g||(P.current.status="settled");let T=u?d?y:C:!0;if(P.current.status==="settled")if(T)P.current.content=he.default.createElement(he.default.Fragment,null,r!=null?r:null);else if(typeof o<"u")P.current.content=he.default.createElement(he.default.Fragment,null,o);else{let b=`${l?M==null?void 0:M.pathname:m.pathname}`.replace(/(\?.*|#.*)$/,""),v=d?typeof e=="string"?e:"/login":typeof e=="string"?e:L;if(v)if(l){let h=t?`?to=${encodeURIComponent(b)}`:"";x(`${v}${h}`)}else R({to:v,query:t?{to:(E=m.params)!=null&&E.to?m.params.to:p({to:b,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return u?he.default.createElement(he.default.Fragment,null,P.current.content):he.default.createElement(he.default.Fragment,null,r!=null?r:null)}var Us=require("react");var so=()=>{let{useLocation:e}=_(),{checkAuth:t}=ne(),r=e();return(0,Us.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null};var Rt=S(require("react"));var Is=({resource:e,action:t,params:r,fallback:o,children:n,...s})=>{var f,P;let a=O(),{resources:u}=B(),{useParams:d}=_(),{resource:l,id:m,action:p}=Y(),{resource:R,id:x,action:D}=d(),M=l==null?void 0:l.name,i=!e||e===(a==="legacy"?R:M)?(f=r==null?void 0:r.id)!=null?f:a==="legacy"?x:m:r==null?void 0:r.id,g=e!=null?e:a==="legacy"?R:M,y,C=Je();if(a==="legacy")g&&(y=C(g));else if(e){let T=$(e,u);T?y=T:y={name:e,route:e}}else if(typeof l=="string"){let T=$(l,u);T?y=T:y={name:l,route:l}}else y=l;let{data:L}=rn({resource:e!=null?e:y==null?void 0:y.name,action:(P=t!=null?t:a==="legacy"?D:p)!=null?P:"",params:r!=null?r:{id:i,resource:y}});return L!=null&&L.can?Rt.default.isValidElement(n)?Rt.default.cloneElement(n,s):Rt.default.createElement(Rt.default.Fragment,null,n):(L==null?void 0:L.can)===!1?Rt.default.createElement(Rt.default.Fragment,null,o!=null?o:null):null};var et=S(require("react"));var ws=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `];var As=()=>((0,et.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),ws.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),et.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},et.default.createElement("div",{style:{width:"200px"}}),et.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},et.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},et.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),et.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))));
//# sourceMappingURL=index.js.map