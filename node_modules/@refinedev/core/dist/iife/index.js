(()=>{var na=Object.create;var ps=Object.defineProperty;var aa=Object.getOwnPropertyDescriptor;var ia=Object.getOwnPropertyNames;var ua=Object.getPrototypeOf,ca=Object.prototype.hasOwnProperty;var b=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var pa=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ia(t))!ca.call(e,s)&&s!==r&&ps(e,s,{get:()=>t[s],enumerable:!(o=aa(t,s))||o.enumerable});return e};var S=(e,t,r)=>(r=e!=null?na(ua(e)):{},pa(t||!e||!e.__esModule?ps(r,"default",{value:e,enumerable:!0}):r,e));var We=S(b("react"));var ct=S(b("react"));var ds=ct.default.createContext({}),ls=({children:e,isProvided:t,...r})=>{let{replace:o}=ie(),s=async p=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,p))}catch(l){return Promise.reject(l)}},a=async p=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,p))}catch(l){return Promise.reject(l)}},n=async p=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,p))}catch(l){return Promise.reject(l)}},u=async p=>{var d;try{return await((d=r.checkAuth)==null?void 0:d.call(r,p)),Promise.resolve()}catch(l){return l!=null&&l.redirectPath&&o(l.redirectPath),Promise.reject(l)}};return ct.default.createElement(ds.Provider,{value:{...r,login:s,logout:n,checkAuth:u,register:a,isProvided:t}},e)},ms=ct.default.createContext({}),fs=({children:e,isProvided:t,...r})=>{let o=async d=>{var l;try{return await((l=r.login)==null?void 0:l.call(r,d))}catch(c){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",c),Promise.reject(c)}},s=async d=>{var l;try{return await((l=r.register)==null?void 0:l.call(r,d))}catch(c){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",c),Promise.reject(c)}},a=async d=>{var l;try{return await((l=r.logout)==null?void 0:l.call(r,d))}catch(c){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",c),Promise.reject(c)}},n=async d=>{var l;try{let c=await((l=r.check)==null?void 0:l.call(r,d));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",c),Promise.reject(c)}},u=async d=>{var l;try{let c=await((l=r.forgotPassword)==null?void 0:l.call(r,d));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",c),Promise.reject(c)}},p=async d=>{var l;try{let c=await((l=r.updatePassword)==null?void 0:l.call(r,d));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",c),Promise.reject(c)}};return ct.default.createElement(ms.Provider,{value:{...r,login:o,logout:a,check:n,register:s,forgotPassword:u,updatePassword:p,isProvided:t}},e)},re=()=>ct.default.useContext(ds),ae=()=>ct.default.useContext(ms);var jr=b("@tanstack/react-query");function da({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=re(),{getPermissions:o}=ae(),s=(0,jr.useQuery)(["usePermissions"],o!=null?o:()=>Promise.resolve(void 0),{enabled:!e&&!!o,...e?{}:t}),a=(0,jr.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?a:s}var Zr=b("@tanstack/react-query");function Yr({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=re(),{getIdentity:o}=ae(),s=(0,Zr.useQuery)(["getUserIdentity"],o!=null?o:()=>Promise.resolve({}),{enabled:!e&&!!o,retry:!1,...e===!0?{}:t}),a=(0,Zr.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?a:s}var Xr=b("@tanstack/react-query");var ys=b("@tanstack/react-query"),Pt=()=>{let e=(0,ys.useQueryClient)();return async()=>{await Promise.all([e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])])}};function ir({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Pt(),o=$(),s=ue(),{push:a}=ie(),{open:n,close:u}=be(),{logout:p}=re(),{logout:d}=ae(),l=(0,Xr.useMutation)(["useLogout"],d,{onSuccess:async(T,R)=>{let{success:D,error:M,redirectTo:i}=T,{redirectPath:y}=R!=null?R:{},f=y!=null?y:i;D&&(u==null||u("useLogout-error")),(M||!D)&&(n==null||n(Jr(M))),await r(),f!==!1&&(o==="legacy"?a(f!=null?f:"/login"):f&&s({to:f}))},onError:T=>{n==null||n(Jr(T))},...e===!0?{}:t}),c=(0,Xr.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],p,{onSuccess:async(T,R)=>{var M;let D=(M=R==null?void 0:R.redirectPath)!=null?M:T;if(await r(),D!==!1){if(D){o==="legacy"?a(D):s({to:D});return}o==="legacy"?a("/login"):s({to:"/login"})}},onError:T=>{n==null||n(Jr(T))},...e?t:{}});return e?c:l}var Jr=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"});var gs=S(b("react")),eo=b("@tanstack/react-query"),Ts=S(b("qs"));function Qt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Pt(),o=$(),s=ue(),{replace:a}=ie(),n=Y(),{useLocation:u}=j(),{search:p}=u(),{close:d,open:l}=be(),{login:c}=re(),{login:T}=ae(),R=gs.default.useMemo(()=>{var i;return o==="legacy"?Ts.default.parse(p,{ignoreQueryPrefix:!0}).to:(i=n.params)==null?void 0:i.to},[o,n.params,p]),D=(0,eo.useMutation)(["useLogin"],T,{onSuccess:async({success:i,redirectTo:y,error:f})=>{i&&(d==null||d("login-error")),(f||!i)&&(l==null||l(qr(f))),await r(),R&&i?o==="legacy"?a(R):s({to:R,type:"replace"}):y?o==="legacy"?a(y):s({to:y,type:"replace"}):o==="legacy"&&a("/")},onError:i=>{l==null||l(qr(i))},...e===!0?{}:t}),M=(0,eo.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],c,{onSuccess:async i=>{await r(),R&&a(R),i!==!1&&!R&&(typeof i=="string"?o==="legacy"?a(i):s({to:i,type:"replace"}):o==="legacy"?a("/"):s({to:"/",type:"replace"})),d==null||d("login-error")},onError:i=>{l==null||l(qr(i))},...e?t:{}});return e?M:D}var qr=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"});var ro=b("@tanstack/react-query");function oo({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Pt(),o=$(),s=ue(),{replace:a}=ie(),{register:n}=re(),{register:u}=ae(),{close:p,open:d}=be(),l=(0,ro.useMutation)(["useRegister"],u,{onSuccess:async({success:T,redirectTo:R,error:D})=>{T&&(p==null||p("register-error")),(D||!T)&&(d==null||d(to(D))),await r(),R?o==="legacy"?a(R):s({to:R,type:"replace"}):o==="legacy"&&a("/")},onError:T=>{d==null||d(to(T))},...e===!0?{}:t}),c=(0,ro.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],n,{onSuccess:async T=>{await r(),T!==!1&&(T?o==="legacy"?a(T):s({to:T,type:"replace"}):o==="legacy"?a("/"):s({to:"/",type:"replace"}),p==null||p("register-error"))},onError:T=>{d==null||d(to(T))},...e?t:{}});return e?c:l}var to=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"});var no=b("@tanstack/react-query");function ao({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=$(),o=ue(),{replace:s}=ie(),{forgotPassword:a}=re(),{forgotPassword:n}=ae(),{close:u,open:p}=be(),d=(0,no.useMutation)(["useForgotPassword"],n,{onSuccess:({success:c,redirectTo:T,error:R})=>{c&&(u==null||u("forgot-password-error")),(R||!c)&&(p==null||p(so(R))),T&&(r==="legacy"?s(T):o({to:T,type:"replace"}))},onError:c=>{p==null||p(so(c))},...e===!0?{}:t}),l=(0,no.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],a,{onSuccess:c=>{c!==!1&&c&&(r==="legacy"?s(c):o({to:c,type:"replace"})),u==null||u("forgot-password-error")},onError:c=>{p==null||p(so(c))},...e?t:{}});return e?l:d}var so=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"});var Rs=S(b("react")),uo=b("@tanstack/react-query"),xs=S(b("qs"));function co({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=$(),o=ue(),{replace:s}=ie(),{updatePassword:a}=re(),{updatePassword:n}=ae(),{close:u,open:p}=be(),d=Y(),{useLocation:l}=j(),{search:c}=l(),T=Rs.default.useMemo(()=>{var M;if(r==="legacy"){let i=xs.default.parse(c,{ignoreQueryPrefix:!0});return i!=null?i:{}}else return(M=d.params)!=null?M:{}},[c,d,r]),R=(0,uo.useMutation)(["useUpdatePassword"],async M=>n==null?void 0:n({...T,...M}),{onSuccess:({success:M,redirectTo:i,error:y})=>{M&&(u==null||u("update-password-error")),(y||!M)&&(p==null||p(io(y))),i&&(r==="legacy"?s(i):o({to:i,type:"replace"}))},onError:M=>{p==null||p(io(M))},...e===!0?{}:t}),D=(0,uo.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async M=>a==null?void 0:a({...T,...M}),{onSuccess:M=>{M!==!1&&M&&(r==="legacy"?s(M):o({to:M,type:"replace"})),u==null||u("update-password-error")},onError:M=>{p==null||p(io(M))},...e?t:{}});return e?D:R}var io=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"});var po=b("@tanstack/react-query");function ur({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=re(),{check:o}=ae(),s=(0,po.useQuery)(["useAuthenticated",t],async()=>{var n;return(n=await(o==null?void 0:o(t)))!=null?n:{}},{retry:!1,enabled:!e}),a=(0,po.useQuery)(["useAuthenticated",t,"v3LegacyAuthProviderCompatible"],async()=>{var n;return(n=await(r==null?void 0:r(t)))!=null?n:{}},{retry:!1,enabled:e});return e?a:s}var la=ur;var lo=b("@tanstack/react-query");function oe({v3LegacyAuthProviderCompatible:e=!1}={}){let t=$(),r=ue(),{replace:o}=ie(),{checkError:s}=re(),{onError:a}=ae(),{mutate:n}=ir({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:u}=ir({v3LegacyAuthProviderCompatible:Boolean(e)}),p=(0,lo.useMutation)(["useCheckError"],a,{onSuccess:({logout:l,redirectTo:c})=>{if(l){u({redirectPath:c});return}if(c){t==="legacy"?o(c):r({to:c,type:"replace"});return}}}),d=(0,lo.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],s,{onError:l=>{n({redirectPath:l})}});return e?d:p}var ma=oe;var mo=()=>{let{isProvided:e}=re(),{isProvided:t}=ae();return Boolean(t||e)};var As=b("@tanstack/react-query");var kt=e=>e/1e3;var Cs=S(b("lodash/zip")),Ps=S(b("lodash/fromPairs")),cr=(e,t=r=>r)=>{let[r,...o]=e;return o.map(s=>(0,Ps.default)((0,Cs.default)(r,s))).map((s,a,n)=>t.call(void 0,s,a,n))};var go=S(b("pluralize"));var pr=S(b("qs")),fo=S(b("lodash/unionWith")),yo=S(b("lodash/differenceWith")),bs=S(b("warn-once"));var dr=e=>{var n;let{current:t,pageSize:r,sorter:o,sorters:s,filters:a}=pr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:(n=I(s,o))!=null?n:[],parsedFilters:a!=null?a:[]}},fa=e=>{let t=pr.default.stringify(e);return dr(`/${t}`)},lr=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:o,sorters:s,filters:a,...n}=e;return pr.default.stringify({...n,...r||{},sorters:I(s,o),filters:a},t)},hs=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,vs=(e,t)=>e.field==t.field,bt=(e,t,r=[])=>(t.filter(s=>(s.operator==="or"||s.operator==="and")&&!s.key).length>1&&(0,bs.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,fo.default)(e,t,r,hs).filter(s=>s.value!==void 0&&s.value!==null&&(s.operator!=="or"||s.operator==="or"&&s.value.length!==0)&&(s.operator!=="and"||s.operator==="and"&&s.value.length!==0))),mr=(e,t)=>(0,fo.default)(e,t,vs).filter(r=>r.order!==void 0&&r.order!==null),fr=(e,t)=>[...(0,yo.default)(t,e,hs),...e],yr=(e,t)=>[...(0,yo.default)(t,e,vs),...e],ya=(e,t)=>{if(!t)return;let r=t.find(o=>o.field===e);if(r)return r.order},ga=(e,t,r="eq")=>{let o=t==null?void 0:t.find(s=>{if(s.operator!=="or"&&s.operator!=="and"&&"field"in s){let{operator:a,field:n}=s;return n===e&&a===r}});if(o)return o.value||[]};var Ta=e=>new Promise((t,r)=>{let o=new FileReader,s=()=>{o.result&&(o.removeEventListener("load",s,!1),t(o.result))};o.addEventListener("load",s,!1),o.readAsDataURL(e.originFileObj),o.onerror=a=>(o.removeEventListener("load",s,!1),r(a))});var ht=(e="",t)=>{let r=pt(e);return t==="singular"?go.default.singular(r):go.default.plural(r)};var Ds=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e;var I=(...e)=>e.find(t=>typeof t<"u");var ee=(e,t,r,o)=>{let s=t||"default",a={all:[s],resourceAll:[s,e||""],list:n=>[...a.resourceAll,"list",{...n,...I(r,o)||{}}],many:n=>[...a.resourceAll,"getMany",n&&n.map(String),{...I(r,o)||{}}].filter(u=>u!==void 0),detail:n=>[...a.resourceAll,"detail",n==null?void 0:n.toString(),{...I(r,o)||{}}],logList:n=>["logList",e,n,o].filter(u=>u!==void 0)};return a};var To=(e,t)=>!e||!t?!1:!!e.find(r=>r===t);var dt=e=>e.startsWith(":");var He=e=>e.split("/").filter(r=>r!=="");var Ro=(e,t)=>{let r=He(e),o=He(t);return r.length===o.length};var ye=e=>e.replace(/^\/|\/$/g,"");var xo=(e,t)=>{let r=ye(e),o=ye(t);if(!Ro(r,o))return!1;let s=He(r);return He(o).every((n,u)=>dt(n)||n===s[u])};var Co=(e,t,r)=>{let o=ye(r||""),s=`${o}${o?"/":""}${e}`;return t==="list"?s=`${s}`:t==="create"?s=`${s}/create`:t==="edit"?s=`${s}/edit/:id`:t==="show"?s=`${s}/show/:id`:t==="clone"&&(s=`${s}/clone/:id`),`/${s.replace(/^\//,"")}`};var De=(e,t)=>{var s,a;let r=I((s=e.meta)==null?void 0:s.parent,(a=e.options)==null?void 0:a.parent,e.parentName);if(!r)return;let o=t.find(n=>{var u;return((u=n.identifier)!=null?u:n.name)===r});return o!=null?o:{name:r}};var Vt=(e,t,r)=>{let o=[],s=De(e,t);for(;s;)o.push(s),s=De(s,t);if(o.length!==0)return`/${o.reverse().map(a=>{var u,p;let n=r&&(p=(u=a.options)==null?void 0:u.route)!=null?p:a.name;return ye(n)}).join("/")}`};var fe=(e,t,r)=>{let o=[],s=["list","show","edit","create","clone"],a=Vt(e,t,r);return s.forEach(n=>{var d,l,c,T;let u=r&&n==="clone"?e.create:e[n],p;typeof u=="function"||r?p=Co(r&&(T=(c=(d=e.meta)==null?void 0:d.route)!=null?c:(l=e.options)==null?void 0:l.route)!=null?T:e.name,n,r?a:void 0):typeof u=="string"?p=u:typeof u=="object"&&(p=u.path),p&&o.push({action:n,resource:e,route:`/${p.replace(/^\//,"")}`})}),o};var Es=e=>{var s,a;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(n=>({...n,splitted:He(ye(n.route))})),r=(a=(s=t[0])==null?void 0:s.splitted.length)!=null?a:0,o=[...t];for(let n=0;n<r;n++){let u=o.filter(p=>!dt(p.splitted[n]));if(u.length!==0){if(u.length===1){o=u;break}o=u}}return o[0]};var Po=(e,t)=>{let o=t.flatMap(a=>fe(a,t)).filter(a=>xo(e,a.route)),s=Es(o);return{found:!!s,resource:s==null?void 0:s.resource,action:s==null?void 0:s.action,matchedRoute:s==null?void 0:s.route}};var gr=(e,t)=>{var s,a,n;let r,o=Vt(e,t,!0);if(o){let u=I(e.meta,e.options);r=`${o}/${(s=u==null?void 0:u.route)!=null?s:e.name}`}else r=(n=(a=e.options)==null?void 0:a.route)!=null?n:e.name;return`/${r.replace(/^\//,"")}`};var Us=e=>{var n,u,p;let t=[],r={},o={},s,a;for(let d=0;d<e.length;d++){s=e[d];let l=(p=(u=s.route)!=null?u:(n=I(s==null?void 0:s.meta,s.options))==null?void 0:n.route)!=null?p:"";r[l]=s,r[l].children=[],o[s.name]=s,o[s.name].children=[]}for(let d in r)r.hasOwnProperty(d)&&(a=r[d],a.parentName&&o[a.parentName]?o[a.parentName].children.push(a):t.push(a));return t};var pt=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e);var ho=S(b("react"));var Ms=S(b("react")),bo=({children:e})=>Ms.default.createElement("div",null,e);var Oe={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},Re=ho.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:bo,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Oe}),Ls=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,undoableTimeout:s,children:a,DashboardPage:n,Title:u,Layout:p=bo,Header:d,Sider:l,Footer:c,OffLayoutArea:T,LoginPage:R=vo,catchAll:D,liveMode:M="off",onLiveEvent:i,options:y})=>ho.default.createElement(Re.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,Title:u,undoableTimeout:s,Layout:p,Header:d,Sider:l,Footer:c,OffLayoutArea:T,DashboardPage:n,LoginPage:R,catchAll:D,liveMode:M,onLiveEvent:i,options:y}},a);var Do=({options:e,disableTelemetry:t,liveMode:r,mutationMode:o,reactQueryClientConfig:s,reactQueryDevtoolConfig:a,syncWithLocation:n,undoableTimeout:u,warnWhenUnsavedChanges:p}={})=>{var T,R,D,M,i,y,f,C,U,m,x,g,E,P,v,h,L,w,A,N,H,k,J,Q;let d={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(R=(T=e==null?void 0:e.mutationMode)!=null?T:o)!=null?R:Oe.mutationMode,undoableTimeout:(M=(D=e==null?void 0:e.undoableTimeout)!=null?D:u)!=null?M:Oe.undoableTimeout,syncWithLocation:(y=(i=e==null?void 0:e.syncWithLocation)!=null?i:n)!=null?y:Oe.syncWithLocation,warnWhenUnsavedChanges:(C=(f=e==null?void 0:e.warnWhenUnsavedChanges)!=null?f:p)!=null?C:Oe.warnWhenUnsavedChanges,liveMode:(m=(U=e==null?void 0:e.liveMode)!=null?U:r)!=null?m:Oe.liveMode,redirect:{afterCreate:(g=(x=e==null?void 0:e.redirect)==null?void 0:x.afterCreate)!=null?g:Oe.redirect.afterCreate,afterClone:(P=(E=e==null?void 0:e.redirect)==null?void 0:E.afterClone)!=null?P:Oe.redirect.afterClone,afterEdit:(h=(v=e==null?void 0:e.redirect)==null?void 0:v.afterEdit)!=null?h:Oe.redirect.afterEdit}},l=(w=(L=e==null?void 0:e.disableTelemetry)!=null?L:t)!=null?w:!1,c={clientConfig:(H=(N=(A=e==null?void 0:e.reactQuery)==null?void 0:A.clientConfig)!=null?N:s)!=null?H:{},devtoolConfig:(Q=(J=(k=e==null?void 0:e.reactQuery)==null?void 0:k.devtoolConfig)!=null?J:a)!=null?Q:{}};return{optionsWithDefaults:d,disableTelemetryWithDefault:l,reactQueryWithDefaults:c}};var Eo=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}};var Tr=async(e,t,r)=>{let o=[];for(let[s,a]of e.entries())try{let n=await a();o.push(t(n,s))}catch(n){o.push(r(n,s))}return o};var W=(e,t=[],r=!1)=>{if(!e)return;if(r){let s=t.find(n=>{var u;return ye((u=n.route)!=null?u:"")===ye(e)});return s||t.find(n=>n.name===e)}return t.find(s=>{var a;return((a=s.identifier)!=null?a:s.name)===e})};var B=(e,t,r)=>{if(t)return t;let o=W(e,r),s=I(o==null?void 0:o.meta,o==null?void 0:o.options);return s!=null&&s.dataProviderName?s.dataProviderName:"default"};var ze=async e=>({data:(await Promise.all(e)).map(t=>t.data)});var Rr=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let o=(t==null?void 0:t.current)||1,s=(t==null?void 0:t.pageSize)||10,a=Math.ceil((e.total||0)/s);return o<a?Number(o)+1:void 0},xr=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let o=(t==null?void 0:t.current)||1;return o===1?void 0:o-1};var Cr=e=>{let t=[];return e==null||e.forEach(r=>{var o,s,a;t.push({...r,label:(a=(o=r.meta)==null?void 0:o.label)!=null?a:(s=r.options)==null?void 0:s.label,route:gr(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t};var Is=e=>He(ye(e)).flatMap(r=>dt(r)?[r.slice(1)]:[]);var ws=(e,t={})=>e.reduce((r,o)=>{let s=t[o];return typeof s<"u"&&(r[o]=s),r},{});var Te=(e,t={},r={},o={})=>{let s=Is(e),a=ws(s,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...o});return e.replace(/:([^\/]+)/g,(n,u)=>{let p=a[u];return typeof p<"u"?`${p}`:n})};var G=()=>{let e=re(),t=ae();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null};var Bt=({hasPagination:e,pagination:t,configPagination:r}={})=>{var u,p,d;let o=e===!1?"off":"server",s=(u=t==null?void 0:t.mode)!=null?u:o,a=(p=I(t==null?void 0:t.current,r==null?void 0:r.current))!=null?p:1,n=(d=I(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?d:10;return{current:a,pageSize:n,mode:s}};var Pr=b("react"),br=e=>{let[t,r]=(0,Pr.useState)(!1);return(0,Pr.useEffect)(()=>{let o=window.matchMedia(e);o.matches!==t&&r(o.matches);let s=()=>r(o.matches);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[t,e]),t};var Ft=({resource:e,config:t,filters:r,hasPagination:o,pagination:s,sorters:a,queryOptions:n,successNotification:u,errorNotification:p,meta:d,metaData:l,liveMode:c,onLiveEvent:T,liveParams:R,dataProviderName:D})=>{let{resources:M}=V(),i=Z(),y=F(),f=G(),{mutate:C}=oe({v3LegacyAuthProviderCompatible:Boolean(f==null?void 0:f.isLegacy)}),U=se(),m=K(),x=B(e,D,M),g=I(d,l),E=I(r,t==null?void 0:t.filters),P=I(a,t==null?void 0:t.sort),v=I(o,t==null?void 0:t.hasPagination),h=Bt({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:v}),L=h.mode==="server",w=m({meta:g}),A={meta:w,metaData:w,filters:E,hasPagination:L,pagination:h,sorters:P,config:{...t,sort:P}},N=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,H=ee(e,x,g,g),{getList:k}=i(x);return et({resource:e,types:["*"],params:{meta:w,metaData:w,pagination:h,hasPagination:L,sort:P,sorters:P,filters:E,subscriptionType:"useList",...R},channel:`resources/${e}`,enabled:N,liveMode:c,onLiveEvent:T}),(0,As.useQuery)(H.list({filters:E,hasPagination:L,...L&&{pagination:h},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:Q,pageParam:O,signal:_})=>k({resource:e,pagination:h,hasPagination:L,filters:E,sort:P,sorters:P,meta:{...w||{},queryContext:{queryKey:Q,pageParam:O,signal:_}},metaData:{...w||{},queryContext:{queryKey:Q,pageParam:O,signal:_}}}),{...n,enabled:typeof(n==null?void 0:n.enabled)<"u"?n==null?void 0:n.enabled:!!e,select:Q=>{var ge;let O=Q,{current:_,mode:Be,pageSize:X}=h;return Be==="client"&&(O={...O,data:O.data.slice((_-1)*X,_*X),total:O.total}),n!=null&&n.select?(ge=n==null?void 0:n.select)==null?void 0:ge.call(n,O):O},onSuccess:Q=>{var _;(_=n==null?void 0:n.onSuccess)==null||_.call(n,Q);let O=typeof u=="function"?u(Q,A,e):u;U(O)},onError:Q=>{var _;C(Q),(_=n==null?void 0:n.onError)==null||_.call(n,Q);let O=typeof p=="function"?p(Q,A,e):p;U(O,{key:`${e}-useList-notification`,message:y("notifications.error",{statusCode:Q.statusCode},`Error (status code: ${Q.statusCode})`),description:Q.message,type:"error"})}})};var Ss=b("@tanstack/react-query");var Nt=({resource:e,id:t,queryOptions:r,successNotification:o,errorNotification:s,meta:a,metaData:n,liveMode:u,onLiveEvent:p,liveParams:d,dataProviderName:l})=>{let{resources:c}=V(),T=Z(),R=F(),D=G(),{mutate:M}=oe({v3LegacyAuthProviderCompatible:Boolean(D==null?void 0:D.isLegacy)}),i=se(),y=K(),f=I(a,n),C=ee(e,B(e,l,c),f,f),{getOne:U}=T(B(e,l,c)),m=y({meta:f});return et({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:m,metaData:m,subscriptionType:"useOne",...d},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:u,onLiveEvent:p}),(0,Ss.useQuery)(C.detail(t),({queryKey:g,pageParam:E,signal:P})=>U({resource:e,id:t,meta:{...m||{},queryContext:{queryKey:g,pageParam:E,signal:P}},metaData:{...m||{},queryContext:{queryKey:g,pageParam:E,signal:P}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:g=>{var P;(P=r==null?void 0:r.onSuccess)==null||P.call(r,g);let E=typeof o=="function"?o(g,{id:t,...m||{}},e):o;i(E)},onError:g=>{var P;M(g),(P=r==null?void 0:r.onError)==null||P.call(r,g);let E=typeof s=="function"?s(g,{id:t,...m||{}},e):s;i(E,{key:`${t}-${e}-getOne-notification`,message:R("notifications.error",{statusCode:g.statusCode},`Error (status code: ${g.statusCode})`),description:g.message,type:"error"})}})};var Qs=b("@tanstack/react-query");var Uo=({resource:e,ids:t,queryOptions:r,successNotification:o,errorNotification:s,meta:a,metaData:n,liveMode:u,onLiveEvent:p,liveParams:d,dataProviderName:l})=>{let{resources:c}=V(),T=Z(),R=F(),D=G(),{mutate:M}=oe({v3LegacyAuthProviderCompatible:Boolean(D==null?void 0:D.isLegacy)}),i=se(),y=K(),f=I(a,n),C=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,U=ee(e,B(e,l,c),f,f),{getMany:m,getOne:x}=T(B(e,l,c)),g=y({meta:f});return et({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:g,metaData:g,subscriptionType:"useMany",...d},channel:`resources/${e}`,enabled:C,liveMode:u,onLiveEvent:p}),(0,Qs.useQuery)(U.many(t),({queryKey:P,pageParam:v,signal:h})=>m?m({resource:e,ids:t,meta:{...g||{},queryContext:{queryKey:P,pageParam:v,signal:h}},metaData:{...g||{},queryContext:{queryKey:P,pageParam:v,signal:h}}}):ze(t.map(L=>x({resource:e,id:L,meta:{...g||{},queryContext:{queryKey:P,pageParam:v,signal:h}},metaData:{...g||{},queryContext:{queryKey:P,pageParam:v,signal:h}}}))),{...r,onSuccess:P=>{var h;(h=r==null?void 0:r.onSuccess)==null||h.call(r,P);let v=typeof o=="function"?o(P,t,e):o;i(v)},onError:P=>{var h;M(P),(h=r==null?void 0:r.onError)==null||h.call(r,P);let v=typeof s=="function"?s(P,t,e):s;i(v,{key:`${t[0]}-${e}-getMany-notification`,message:R("notifications.error",{statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})}})};var Dr=b("@tanstack/react-query");var vt=S(b("react")),hr=S(b("lodash-es/isEqual"));var vr=vt.default.createContext({notifications:[],notificationDispatch:()=>!1}),Ra=[],xa=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(o=>!((0,hr.default)(o.id,t.payload.id)&&o.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(o=>!((0,hr.default)(o.id,t.payload.id)&&o.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(o=>(0,hr.default)(o.id,t.payload.id)&&o.resource==t.payload.resource?{...o,seconds:t.payload.seconds-1e3}:o);default:return e}},Mo=({children:e})=>{let[t,r]=(0,vt.useReducer)(xa,Ra),o={notifications:t,notificationDispatch:r};return vt.default.createElement(vr.Provider,{value:o},e,typeof window<"u"&&t.map(s=>vt.default.createElement(ks,{key:`${s.id}-${s.resource}-queue`,notification:s})))};var Lo=S(b("pluralize"));var Io=({mutationOptions:e}={})=>{let{resources:t}=V(),r=(0,Dr.useQueryClient)(),o=Z(),{mutationMode:s,undoableTimeout:a}=ke(),n=F(),u=G(),{mutate:p}=oe({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),d=Le(),{log:l}=Ie(),{notificationDispatch:c}=$e(),T=se(),R=we(),D=K();return(0,Dr.useMutation)(({id:i,values:y,resource:f,mutationMode:C,undoableTimeout:U,onCancel:m,meta:x,metaData:g,dataProviderName:E})=>{let P=D({meta:I(x,g)}),v=C!=null?C:s,h=U!=null?U:a;return v!=="undoable"?o(B(f,E,t)).update({resource:f,id:i,variables:y,meta:P,metaData:P}):new Promise((w,A)=>{let N=()=>{o(B(f,E,t)).update({resource:f,id:i,variables:y,meta:P,metaData:P}).then(k=>w(k)).catch(k=>A(k))},H=()=>{A({message:"mutationCancelled"})};m&&m(H),c({type:"ADD",payload:{id:i,resource:f,cancelMutation:H,doMutation:N,seconds:h,isSilent:!!m}})})},{onMutate:async({resource:i,id:y,mutationMode:f,values:C,dataProviderName:U,meta:m,metaData:x})=>{let g=I(m,x),E=ee(i,B(i,U,t),g,g),P=r.getQueriesData(E.resourceAll),v=f!=null?f:s;return await r.cancelQueries(E.resourceAll,void 0,{silent:!0}),v!=="pessimistic"&&(r.setQueriesData(E.list(),h=>{if(!h)return null;let L=h.data.map(w=>{var A;return((A=w.id)==null?void 0:A.toString())===(y==null?void 0:y.toString())?{id:y,...w,...C}:w});return{...h,data:L}}),r.setQueriesData(E.many(),h=>{if(!h)return null;let L=h.data.map(w=>{var A;return((A=w.id)==null?void 0:A.toString())===(y==null?void 0:y.toString())&&(w={id:y,...w,...C}),w});return{...h,data:L}}),r.setQueriesData(E.detail(y),h=>h?{...h,data:{...h.data,...C}}:null)),{previousQueries:P,queryKey:E}},onSettled:(i,y,{id:f,resource:C,dataProviderName:U,invalidates:m=["list","many","detail"]})=>{R({resource:C,dataProviderName:B(C,U,t),invalidates:m,id:f}),c({type:"REMOVE",payload:{id:f,resource:C}})},onSuccess:(i,{id:y,resource:f,successNotification:C,dataProviderName:U,values:m,meta:x,metaData:g},E)=>{var H;let P=Lo.default.singular(f),v=typeof C=="function"?C(i,{id:y,values:m},f):C;T(v,{key:`${y}-${f}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${f}.${f}`,P)},`Successfully updated ${P}`),type:"success"}),d==null||d({channel:`resources/${f}`,type:"updated",payload:{ids:(H=i.data)!=null&&H.id?[i.data.id]:void 0},date:new Date});let h;if(E){let k=r.getQueryData(E.queryKey.detail(y));h=Object.keys(m||{}).reduce((J,Q)=>{var O;return J[Q]=(O=k==null?void 0:k.data)==null?void 0:O[Q],J},{})}let{fields:L,operation:w,variables:A,...N}=I(x,g)||{};l==null||l.mutate({action:"update",resource:f,data:m,previousData:h,meta:{id:y,dataProviderName:B(f,U,t),...N}})},onError:(i,{id:y,resource:f,errorNotification:C,values:U},m)=>{if(m)for(let x of m.previousQueries)r.setQueryData(x[0],x[1]);if(i.message!=="mutationCancelled"){p==null||p(i);let x=Lo.default.singular(f),g=typeof C=="function"?C(i,{id:y,values:U},f):C;T(g,{key:`${y}-${f}-notification`,message:n("notifications.editError",{resource:n(`${f}.${f}`,x),statusCode:i.statusCode},`Error when updating ${x} (status code: ${i.statusCode})`),description:i.message,type:"error"})}},...e})};var Vs=b("@tanstack/react-query"),wo=S(b("pluralize"));var Ht=({mutationOptions:e}={})=>{let t=G(),{mutate:r}=oe({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=Z(),s=we(),{resources:a}=V(),n=F(),u=Le(),{log:p}=Ie(),d=se(),l=K();return(0,Vs.useMutation)(({resource:T,values:R,meta:D,metaData:M,dataProviderName:i})=>{let y=l({meta:I(D,M)});return o(B(T,i,a)).create({resource:T,variables:R,meta:y,metaData:y})},{onSuccess:(T,{resource:R,successNotification:D,dataProviderName:M,invalidates:i=["list","many"],values:y,meta:f,metaData:C})=>{var v,h,L;let U=wo.default.singular(R),m=typeof D=="function"?D(T,y,R):D;d(m,{key:`create-${R}-notification`,message:n("notifications.createSuccess",{resource:n(`${R}.${R}`,U)},`Successfully created ${U}`),description:n("notifications.success","Success"),type:"success"}),s({resource:R,dataProviderName:B(R,M,a),invalidates:i}),u==null||u({channel:`resources/${R}`,type:"created",payload:{ids:(v=T==null?void 0:T.data)!=null&&v.id?[T.data.id]:void 0},date:new Date});let{fields:x,operation:g,variables:E,...P}=I(f,C)||{};p==null||p.mutate({action:"create",resource:R,data:y,meta:{dataProviderName:B(R,M,a),id:(L=(h=T==null?void 0:T.data)==null?void 0:h.id)!=null?L:void 0,...P}})},onError:(T,{resource:R,errorNotification:D,values:M})=>{r(T);let i=wo.default.singular(R),y=typeof D=="function"?D(T,M,R):D;d(y,{key:`create-${R}-notification`,description:T.message,message:n("notifications.createError",{resource:n(`${R}.${R}`,i),statusCode:T.statusCode},`There was an error creating ${i} (status code: ${T.statusCode})`),type:"error"})},...e})};var Er=b("@tanstack/react-query"),Ao=S(b("pluralize"));var Ca=({mutationOptions:e}={})=>{let t=G(),{mutate:r}=oe({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=Z(),{resources:s}=V(),a=(0,Er.useQueryClient)(),{mutationMode:n,undoableTimeout:u}=ke(),{notificationDispatch:p}=$e(),d=F(),l=Le(),{log:c}=Ie(),T=se(),R=we(),D=K();return(0,Er.useMutation)(({id:i,mutationMode:y,undoableTimeout:f,resource:C,onCancel:U,meta:m,metaData:x,dataProviderName:g,values:E})=>{let P=D({meta:I(m,x)}),v=y!=null?y:n,h=f!=null?f:u;return v!=="undoable"?o(B(C,g,s)).deleteOne({resource:C,id:i,meta:P,metaData:P,variables:E}):new Promise((w,A)=>{let N=()=>{o(B(C,g,s)).deleteOne({resource:C,id:i,meta:P,metaData:P,variables:E}).then(k=>w(k)).catch(k=>A(k))},H=()=>{A({message:"mutationCancelled"})};U&&U(H),p({type:"ADD",payload:{id:i,resource:C,cancelMutation:H,doMutation:N,seconds:h,isSilent:!!U}})})},{onMutate:async({id:i,resource:y,mutationMode:f,dataProviderName:C,meta:U,metaData:m})=>{let x=I(U,m),g=ee(y,B(y,C,s),x,x),E=f!=null?f:n;await a.cancelQueries(g.resourceAll,void 0,{silent:!0});let P=a.getQueriesData(g.resourceAll);return E!=="pessimistic"&&(a.setQueriesData(g.list(),v=>v?{data:v.data.filter(L=>{var w;return((w=L.id)==null?void 0:w.toString())!==i.toString()}),total:v.total-1}:null),a.setQueriesData(g.many(),v=>{if(!v)return null;let h=v.data.filter(L=>{var w;return((w=L.id)==null?void 0:w.toString())!==(i==null?void 0:i.toString())});return{...v,data:h}})),{previousQueries:P,queryKey:g}},onSettled:(i,y,{id:f,resource:C,dataProviderName:U,invalidates:m=["list","many"]})=>{R({resource:C,dataProviderName:B(C,U,s),invalidates:m}),p({type:"REMOVE",payload:{id:f,resource:C}})},onSuccess:(i,{id:y,resource:f,successNotification:C,dataProviderName:U,meta:m,metaData:x},g)=>{let E=Ao.default.singular(f!=null?f:"");a.removeQueries(g==null?void 0:g.queryKey.detail(y));let P=typeof C=="function"?C(i,y,f):C;T(P,{key:`${y}-${f}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${f}.${f}`,E)},`Successfully deleted a ${E}`),type:"success"}),l==null||l({channel:`resources/${f}`,type:"deleted",payload:{ids:y?[y]:[]},date:new Date});let{fields:v,operation:h,variables:L,...w}=I(m,x)||{};c==null||c.mutate({action:"delete",resource:f,meta:{id:y,dataProviderName:B(f,U,s),...w}}),a.removeQueries(g==null?void 0:g.queryKey.detail(y))},onError:(i,{id:y,resource:f,errorNotification:C},U)=>{if(U)for(let m of U.previousQueries)a.setQueryData(m[0],m[1]);if(i.message!=="mutationCancelled"){r(i);let m=Ao.default.singular(f!=null?f:""),x=typeof C=="function"?C(i,y,f):C;T(x,{key:`${y}-${f}-notification`,message:d("notifications.deleteError",{resource:m,statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})}},...e})};var Bs=b("@tanstack/react-query"),Fs=S(b("pluralize"));var So=({mutationOptions:e}={})=>{let t=Z(),{resources:r}=V(),o=F(),s=Le(),a=se(),n=we(),{log:u}=Ie(),p=K();return(0,Bs.useMutation)(({resource:l,values:c,meta:T,metaData:R,dataProviderName:D})=>{let M=p({meta:I(T,R)}),i=t(B(l,D,r));return i.createMany?i.createMany({resource:l,variables:c,meta:M,metaData:M}):ze(c.map(y=>i.create({resource:l,variables:y,meta:M,metaData:M})))},{onSuccess:(l,{resource:c,successNotification:T,dataProviderName:R,invalidates:D=["list","many"],values:M,meta:i,metaData:y})=>{let f=Fs.default.plural(c),C=typeof T=="function"?T(l,M,c):T;a(C,{key:`createMany-${c}-notification`,message:o("notifications.createSuccess",{resource:o(`${c}.${c}`,c)},`Successfully created ${f}`),description:o("notifications.success","Success"),type:"success"}),n({resource:c,dataProviderName:B(c,R,r),invalidates:D});let U=l==null?void 0:l.data.filter(P=>(P==null?void 0:P.id)!==void 0).map(P=>P.id);s==null||s({channel:`resources/${c}`,type:"created",payload:{ids:U},date:new Date});let{fields:m,operation:x,variables:g,...E}=I(i,y)||{};u==null||u.mutate({action:"createMany",resource:c,data:M,meta:{dataProviderName:B(c,R,r),ids:U,...E}})},onError:(l,{resource:c,errorNotification:T,values:R})=>{let D=typeof T=="function"?T(l,R,c):T;a(D,{key:`createMany-${c}-notification`,description:l.message,message:o("notifications.createError",{resource:o(`${c}.${c}`,c),statusCode:l.statusCode},`There was an error creating ${c} (status code: ${l.statusCode}`),type:"error"})},...e})};var Ur=b("@tanstack/react-query"),Qo=S(b("pluralize"));var Pa=({mutationOptions:e}={})=>{let{resources:t}=V(),r=(0,Ur.useQueryClient)(),o=Z(),s=F(),{mutationMode:a,undoableTimeout:n}=ke(),u=G(),{mutate:p}=oe({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),{notificationDispatch:d}=$e(),l=Le(),c=se(),T=we(),{log:R}=Ie(),D=K();return(0,Ur.useMutation)(({ids:i,values:y,resource:f,onCancel:C,mutationMode:U,undoableTimeout:m,meta:x,metaData:g,dataProviderName:E})=>{let P=D({meta:I(x,g)}),v=U!=null?U:a,h=m!=null?m:n,L=o(B(f,E,t)),w=()=>L.updateMany?L.updateMany({resource:f,ids:i,variables:y,meta:P,metaData:P}):ze(i.map(N=>L.update({resource:f,id:N,variables:y,meta:P,metaData:P})));return v!=="undoable"?w():new Promise((N,H)=>{let k=()=>{w().then(Q=>N(Q)).catch(Q=>H(Q))},J=()=>{H({message:"mutationCancelled"})};C&&C(J),d({type:"ADD",payload:{id:i,resource:f,cancelMutation:J,doMutation:k,seconds:h,isSilent:!!C}})})},{onMutate:async({resource:i,ids:y,values:f,mutationMode:C,dataProviderName:U,meta:m,metaData:x})=>{let g=ee(i,B(i,U,t),I(m,x),I(m,x)),E=C!=null?C:a;await r.cancelQueries(g.resourceAll,void 0,{silent:!0});let P=r.getQueriesData(g.resourceAll);if(E!=="pessimistic"){r.setQueriesData(g.list(),v=>{if(!v)return null;let h=v.data.map(L=>L.id!==void 0&&y.filter(w=>w!==void 0).map(String).includes(L.id.toString())?{...L,...f}:L);return{...v,data:h}}),r.setQueriesData(g.many(),v=>{if(!v)return null;let h=v.data.map(L=>L.id!==void 0&&y.filter(w=>w!==void 0).map(String).includes(L.id.toString())?{...L,...f}:L);return{...v,data:h}});for(let v of y)r.setQueriesData(g.detail(v),h=>{if(!h)return null;let L={...h.data,...f};return{...h,data:L}})}return{previousQueries:P,queryKey:g}},onSettled:(i,y,{ids:f,resource:C,dataProviderName:U})=>{T({resource:C,invalidates:["list","many"],dataProviderName:B(C,U,t)}),f.forEach(m=>T({resource:C,invalidates:["detail"],dataProviderName:B(C,U,t),id:m})),d({type:"REMOVE",payload:{id:f,resource:C}})},onSuccess:(i,{ids:y,resource:f,meta:C,metaData:U,dataProviderName:m,successNotification:x,values:g},E)=>{let P=Qo.default.singular(f),v=typeof x=="function"?x(i,{ids:y,values:g},f):x;c(v,{key:`${y}-${f}-notification`,description:s("notifications.success","Successful"),message:s("notifications.editSuccess",{resource:s(`${f}.${f}`,f)},`Successfully updated ${P}`),type:"success"}),l==null||l({channel:`resources/${f}`,type:"updated",payload:{ids:y.map(String)},date:new Date});let h=[];E&&y.forEach(H=>{let k=r.getQueryData(E.queryKey.detail(H));h.push(Object.keys(g||{}).reduce((J,Q)=>{var O;return J[Q]=(O=k==null?void 0:k.data)==null?void 0:O[Q],J},{}))});let{fields:L,operation:w,variables:A,...N}=I(C,U)||{};R==null||R.mutate({action:"updateMany",resource:f,data:g,previousData:h,meta:{ids:y,dataProviderName:B(f,m,t),...N}})},onError:(i,{ids:y,resource:f,errorNotification:C,values:U},m)=>{if(m)for(let x of m.previousQueries)r.setQueryData(x[0],x[1]);if(i.message!=="mutationCancelled"){p==null||p(i);let x=Qo.default.singular(f),g=typeof C=="function"?C(i,{ids:y,values:U},f):C;c(g,{key:`${y}-${f}-updateMany-error-notification`,message:s("notifications.editError",{resource:x,statusCode:i.statusCode},`Error when updating ${x} (status code: ${i.statusCode})`),description:i.message,type:"error"})}},...e})};var Mr=b("@tanstack/react-query"),Ns=S(b("pluralize"));var ba=({mutationOptions:e}={})=>{let t=G(),{mutate:r}=oe({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:o,undoableTimeout:s}=ke(),a=Z(),{notificationDispatch:n}=$e(),u=F(),p=Le(),d=se(),l=we(),{log:c}=Ie(),{resources:T}=V(),R=(0,Mr.useQueryClient)(),D=K();return(0,Mr.useMutation)(({resource:i,ids:y,mutationMode:f,undoableTimeout:C,onCancel:U,meta:m,metaData:x,dataProviderName:g,values:E})=>{let P=D({meta:I(m,x)}),v=f!=null?f:o,h=C!=null?C:s,L=a(B(i,g,T)),w=()=>L.deleteMany?L.deleteMany({resource:i,ids:y,meta:P,metaData:P,variables:E}):ze(y.map(N=>L.deleteOne({resource:i,id:N,meta:P,metaData:P,variables:E})));return v!=="undoable"?w():new Promise((N,H)=>{let k=()=>{w().then(Q=>N(Q)).catch(Q=>H(Q))},J=()=>{H({message:"mutationCancelled"})};U&&U(J),n({type:"ADD",payload:{id:y,resource:i,cancelMutation:J,doMutation:k,seconds:h,isSilent:!!U}})})},{onMutate:async({ids:i,resource:y,mutationMode:f,dataProviderName:C,meta:U,metaData:m})=>{let x=I(U,m),g=ee(y,B(y,C,T),x,x),E=f!=null?f:o;await R.cancelQueries(g.resourceAll,void 0,{silent:!0});let P=R.getQueriesData(g.resourceAll);if(E!=="pessimistic"){R.setQueriesData(g.list(),v=>v?{data:v.data.filter(L=>L.id&&!i.map(String).includes(L.id.toString())),total:v.total-1}:null),R.setQueriesData(g.many(),v=>{if(!v)return null;let h=v.data.filter(L=>L.id?!i.map(String).includes(L.id.toString()):!1);return{...v,data:h}});for(let v of i)R.setQueriesData(g.detail(v),h=>!h||h.data.id==v?null:{...h})}return{previousQueries:P,queryKey:g}},onSettled:(i,y,{resource:f,ids:C,dataProviderName:U,invalidates:m=["list","many"]})=>{l({resource:f,dataProviderName:B(f,U,T),invalidates:m}),n({type:"REMOVE",payload:{id:C,resource:f}})},onSuccess:(i,{ids:y,resource:f,meta:C,metaData:U,dataProviderName:m,successNotification:x},g)=>{y.forEach(w=>R.removeQueries(g==null?void 0:g.queryKey.detail(w)));let E=typeof x=="function"?x(i,y,f):x;d(E,{key:`${y}-${f}-notification`,description:u("notifications.success","Success"),message:u("notifications.deleteSuccess",{resource:u(`${f}.${f}`,f)},`Successfully deleted ${f}`),type:"success"}),p==null||p({channel:`resources/${f}`,type:"deleted",payload:{ids:y},date:new Date});let{fields:P,operation:v,variables:h,...L}=I(C,U)||{};c==null||c.mutate({action:"deleteMany",resource:f,meta:{ids:y,dataProviderName:B(f,m,T),...L}}),y.forEach(w=>R.removeQueries(g==null?void 0:g.queryKey.detail(w)))},onError:(i,{ids:y,resource:f,errorNotification:C},U)=>{if(U)for(let m of U.previousQueries)R.setQueryData(m[0],m[1]);if(i.message!=="mutationCancelled"){r(i);let m=Ns.default.singular(f),x=typeof C=="function"?C(i,y,f):C;d(x,{key:`${y}-${f}-notification`,message:u("notifications.deleteError",{resource:m,statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})}},...e})};var ha=e=>{let t=Z(),{getApiUrl:r}=t(e);return r()};var Hs=b("@tanstack/react-query");var va=({url:e,method:t,config:r,queryOptions:o,successNotification:s,errorNotification:a,meta:n,metaData:u,dataProviderName:p})=>{let d=Z(),l=G(),{mutate:c}=oe({v3LegacyAuthProviderCompatible:Boolean(l==null?void 0:l.isLegacy)}),T=F(),R=se(),D=K(),M=I(n,u),{custom:i}=d(p),y=D({meta:M});if(i)return(0,Hs.useQuery)({queryKey:[p,"custom",t,e,{...r,...M||{}}],queryFn:({queryKey:C,pageParam:U,signal:m})=>i({url:e,method:t,...r,meta:{...y||{},queryContext:{queryKey:C,pageParam:U,signal:m}},metaData:{...y||{},queryContext:{queryKey:C,pageParam:U,signal:m}}}),...o,onSuccess:C=>{var m;(m=o==null?void 0:o.onSuccess)==null||m.call(o,C);let U=typeof s=="function"?s(C,{...r,...y||{}}):s;R(U)},onError:C=>{var m;c(C),(m=o==null?void 0:o.onError)==null||m.call(o,C);let U=typeof a=="function"?a(C,{...r,...y||{}}):a;R(U,{key:`${t}-notification`,message:T("notifications.error",{statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})}});throw Error("Not implemented custom on data provider.")};var Os=b("@tanstack/react-query");var Da=({mutationOptions:e}={})=>{let t=G(),{mutate:r}=oe({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=se(),s=Z(),a=F(),n=K();return(0,Os.useMutation)(({url:p,method:d,values:l,meta:c,metaData:T,dataProviderName:R,config:D})=>{let M=n({meta:I(c,T)}),{custom:i}=s(R);if(i)return i({url:p,method:d,payload:l,meta:M,metaData:M,headers:{...D==null?void 0:D.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(p,{successNotification:d,config:l,meta:c,metaData:T})=>{let R=typeof d=="function"?d(p,{...l,...I(c,T)||{}}):d;o(R)},onError:(p,{errorNotification:d,method:l,config:c,meta:T,metaData:R})=>{r(p);let D=typeof d=="function"?d(p,{...c,...I(T,R)||{}}):d;o(D,{key:`${l}-notification`,message:a("notifications.error",{statusCode:p.statusCode},`Error (status code: ${p.statusCode})`),description:p.message,type:"error"})},...e})};var Lr=b("react");var ko=S(b("react")),Ea=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),Ot=ko.default.createContext(Ea()),$s=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},ko.default.createElement(Ot.Provider,{value:r},e)};var Z=()=>{let e=(0,Lr.useContext)(Ot);return(0,Lr.useCallback)(r=>{if(r){if(!e[r])throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])};var Gs=b("@tanstack/react-query");var Ua=({resource:e,config:t,filters:r,hasPagination:o,pagination:s,sorters:a,queryOptions:n,successNotification:u,errorNotification:p,meta:d,metaData:l,liveMode:c,onLiveEvent:T,liveParams:R,dataProviderName:D})=>{let{resources:M}=V(),i=Z(),y=F(),f=G(),{mutate:C}=oe({v3LegacyAuthProviderCompatible:Boolean(f==null?void 0:f.isLegacy)}),U=se(),m=K(),x=B(e,D,M),g=I(d,l),E=I(r,t==null?void 0:t.filters),P=I(a,t==null?void 0:t.sort),v=I(o,t==null?void 0:t.hasPagination),h=Bt({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:v}),L=h.mode==="server",w={meta:g,metaData:g,filters:E,hasPagination:L,pagination:h,sorters:P,config:{...t,sort:P}},A=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,N=ee(e,x,g,g),H=m({meta:g}),{getList:k}=i(x);return et({resource:e,types:["*"],params:{meta:H,metaData:H,pagination:h,hasPagination:L,sort:P,sorters:P,filters:E,subscriptionType:"useList",...R},channel:`resources/${e}`,enabled:A,liveMode:c,onLiveEvent:T}),(0,Gs.useInfiniteQuery)(N.list({filters:E,hasPagination:L,...L&&{pagination:h},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:Q,pageParam:O,signal:_})=>{let Be={...h,current:O};return k({resource:e,pagination:Be,hasPagination:L,filters:E,sort:P,sorters:P,meta:{...H||{},queryContext:{queryKey:Q,pageParam:O,signal:_}},metaData:{...H||{},queryContext:{queryKey:Q,pageParam:O,signal:_}}}).then(({data:X,total:ge,...Ke})=>({data:X,total:ge,pagination:Be,...Ke}))},{getNextPageParam:Q=>Rr(Q),getPreviousPageParam:Q=>xr(Q),...n,onSuccess:Q=>{var _;(_=n==null?void 0:n.onSuccess)==null||_.call(n,Q);let O=typeof u=="function"?u(Q,w,e):u;U(O)},onError:Q=>{var _;C(Q),(_=n==null?void 0:n.onError)==null||_.call(n,Q);let O=typeof p=="function"?p(Q,w,e):p;U(O,{key:`${e}-useInfiniteList-notification`,message:y("notifications.error",{statusCode:Q.statusCode},`Error (status code: ${Q.statusCode})`),description:Q.message,type:"error"})}})};var $t=b("react"),Ks=b("@tanstack/react-query");var Vo=S(b("react")),_e=Vo.default.createContext(void 0),Ws=({liveProvider:e,children:t})=>Vo.default.createElement(_e.Provider,{value:e},t);var et=({resource:e,params:t,channel:r,types:o,enabled:s=!0,liveMode:a,onLiveEvent:n})=>{let u=(0,Ks.useQueryClient)(),p=ee(e),d=(0,$t.useContext)(_e),{liveMode:l,onLiveEvent:c}=(0,$t.useContext)(Re),T=a!=null?a:l;(0,$t.useEffect)(()=>{let R;return T&&T!=="off"&&s&&(R=d==null?void 0:d.subscribe({channel:r,params:{resource:e,...t},types:o,callback:D=>{T==="auto"&&u.invalidateQueries(p.resourceAll),n==null||n(D),c==null||c(D)}})),()=>{R&&(d==null||d.unsubscribe(R))}},[s])};var zs=b("react");var _s=e=>{let{liveMode:t}=(0,zs.useContext)(Re);return e!=null?e:t};var Ir=b("react");var nl=({params:e,channel:t,types:r=["*"],enabled:o=!0,onLiveEvent:s})=>{let a=(0,Ir.useContext)(_e);(0,Ir.useEffect)(()=>{let n;return o&&(n=a==null?void 0:a.subscribe({channel:t,params:e,types:r,callback:s})),()=>{n&&(a==null||a.unsubscribe(n))}},[o])};var js=b("react");var Le=()=>{let e=(0,js.useContext)(_e);return e==null?void 0:e.publish};var nn=b("react");var Bo=S(b("react"));var Xs=b("react");var Zs=b("react"),Ys=S(b("lodash-es/isEqual")),Js=e=>{let t=(0,Zs.useRef)(e);return(0,Ys.default)(t.current,e)||(t.current=e),t.current};var wr=(e,t)=>{let r=Js(t);return(0,Xs.useMemo)(e,r)};var tt=Bo.default.createContext({resources:[]}),qs=({resources:e,children:t})=>{let r=wr(()=>Cr(e!=null?e:[]),[e]);return Bo.default.createElement(tt.Provider,{value:{resources:r}},t)};var Fo=S(b("react")),en=Fo.default.createContext("new"),tn=en.Provider,$=()=>Fo.default.useContext(en);var sn=S(b("react"));var Ar=S(b("react")),rn={},je=(0,Ar.createContext)(rn),on=({children:e,router:t})=>Ar.default.createElement(je.Provider,{value:t!=null?t:rn},e);var Sr=S(b("react")),No=()=>{let e=(0,Sr.useContext)(je);return Sr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.parse)!=null?o:()=>()=>({})},[e==null?void 0:e.parse])()};var Y=()=>{let e=No();return sn.default.useMemo(()=>e(),[e])};function V(e){var l,c;let{resources:t}=(0,nn.useContext)(tt),r=$(),o=Y(),s={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},a=rt(),{useParams:n}=j(),u=n();if(r==="legacy"){let T=s.resourceNameOrRouteName?s.resourceNameOrRouteName:u.resource,R=T?a(T):void 0,D=(l=s==null?void 0:s.recordItemId)!=null?l:u.id,M=u.action,i=(c=s==null?void 0:s.resourceName)!=null?c:R==null?void 0:R.name;return{resources:t,resource:R,resourceName:i,id:D,action:M}}let p,d=typeof e=="string"?e:s==null?void 0:s.resourceNameOrRouteName;if(d){let T=W(d,t);T?p=T:p={name:d}}else o!=null&&o.resource&&(p=o.resource);return{resources:t,resource:p,resourceName:p==null?void 0:p.name,id:o.id,action:o.action}}var Qr=b("react");var rt=()=>{let{resources:e}=(0,Qr.useContext)(tt);return(0,Qr.useCallback)(r=>{let o=W(r,e,!0);return o||{name:r,route:r}},[e])};var an=b("react");var $e=()=>{let{notifications:e,notificationDispatch:t}=(0,an.useContext)(vr);return{notifications:e,notificationDispatch:t}};var cn=b("react");var kr=S(b("react"));var Gt=(0,kr.createContext)({}),un=({open:e,close:t,children:r})=>kr.default.createElement(Gt.Provider,{value:{open:e,close:t}},r);var be=()=>{let{open:e,close:t}=(0,cn.useContext)(Gt);return{open:e,close:t}};var pn=b("react");var se=()=>{let{open:e}=be();return(0,pn.useCallback)((r,o)=>{r!==!1&&(r?e==null||e(r):o&&(e==null||e(o)))},[])};var Vr=b("react");var Ho=S(b("react"));var Ve=Ho.default.createContext({}),dn=({children:e,i18nProvider:t})=>Ho.default.createElement(Ve.Provider,{value:{i18nProvider:t}},e);var Ma=()=>{let{i18nProvider:e}=(0,Vr.useContext)(Ve);return(0,Vr.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])};var Br=b("react");var F=()=>{let{i18nProvider:e}=(0,Br.useContext)(Ve);return(0,Br.useMemo)(()=>{function r(o,s,a){var n,u;return(u=(n=e==null?void 0:e.translate(o,s,a))!=null?n:a)!=null?u:typeof s=="string"&&typeof a>"u"?s:o}return r},[e])};var Fr=b("react");var La=()=>{let{i18nProvider:e}=(0,Fr.useContext)(Ve);return(0,Fr.useCallback)(()=>e==null?void 0:e.getLocale(),[])};var ln=b("react");var ke=()=>{let{mutationMode:e,undoableTimeout:t}=(0,ln.useContext)(Re);return{mutationMode:e,undoableTimeout:t}};var $o=b("react");var Wt=S(b("react")),Oo=Wt.default.createContext({}),mn=({children:e})=>{let[t,r]=(0,Wt.useState)(!1);return Wt.default.createElement(Oo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)};var Kt=()=>{let{warnWhenUnsavedChanges:e}=(0,$o.useContext)(Re),{warnWhen:t,setWarnWhen:r}=(0,$o.useContext)(Oo);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}};var fn=b("react");var Go=()=>{let{syncWithLocation:e}=(0,fn.useContext)(Re);return{syncWithLocation:e}};var yn=b("react");var Ia=()=>{let{Title:e}=(0,yn.useContext)(Re);return e};var gn=b("react");var zt=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:s,Title:a,hasDashboard:n,mutationMode:u,syncWithLocation:p,undoableTimeout:d,warnWhenUnsavedChanges:l,DashboardPage:c,LoginPage:T,catchAll:R,options:D}=(0,gn.useContext)(Re);return{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:s,Title:a,hasDashboard:n,mutationMode:u,syncWithLocation:p,undoableTimeout:d,warnWhenUnsavedChanges:l,DashboardPage:c,LoginPage:T,catchAll:R,options:D}};var Tn=b("react");var Rn=b("export-to-csv-fix-source-map"),Im=({resourceName:e,resource:t,sorter:r,sorters:o,filters:s,maxItemCount:a,pageSize:n=20,mapData:u=R=>R,exportOptions:p,meta:d,metaData:l,dataProviderName:c,onError:T}={})=>{var m;let[R,D]=(0,Tn.useState)(!1),M=Z(),{resource:i,resources:y}=V(),f=`${ht(i==null?void 0:i.name,"plural")}-${new Date().toLocaleString()}`,{getList:C}=M(B((m=i==null?void 0:i.identifier)!=null?m:i==null?void 0:i.name,c,y));return{isLoading:R,triggerExport:async()=>{var v;D(!0);let x=[],g=1,E=!0;for(;E;)try{let{data:h,total:L}=await C({resource:(v=i==null?void 0:i.name)!=null?v:"",filters:s,sort:I(o,r),sorters:I(o,r),pagination:{current:g,pageSize:n,mode:"server"},meta:I(d,l),metaData:I(d,l)});g++,x.push(...h),a&&x.length>=a&&(x=x.slice(0,a),E=!1),L===x.length&&(E=!1)}catch(h){D(!1),E=!1,T==null||T(h);return}new Rn.ExportToCsv({filename:f,useKeysAsHeaders:!0,...p}).generateCsv(x.map(u)),D(!1)}}};var Wo=S(b("react")),xn=S(b("warn-once"));var Om=({resource:e,action:t,id:r,onMutationSuccess:o,onMutationError:s,redirect:a,successNotification:n,errorNotification:u,meta:p,metaData:d,mutationMode:l,liveMode:c,onLiveEvent:T,liveParams:R,undoableTimeout:D,dataProviderName:M,invalidates:i,queryOptions:y,createMutationOptions:f,updateMutationOptions:C}={})=>{let{options:U}=zt(),{resources:m}=V(),x=$(),{resource:g,id:E,action:P}=Y(),{useParams:v}=j(),{resource:h,action:L,id:w}=v(),A=K(),N=typeof g=="string"?g:g==null?void 0:g.name,H=!e||e===(x==="legacy"?h:N)?r!=null?r:x==="legacy"?w:E:r,[k,J]=Wo.default.useState(H);Wo.default.useEffect(()=>{J(H)},[H]);let Q=e!=null?e:x==="legacy"?h:N,O=x==="legacy"?L:P,_=t!=null?t:O==="edit"||O==="clone"?O:"create",Be=rt(),X;if(x==="legacy")Q&&(X=Be(Q));else if(e){let me=W(e,m);me?X=me:X={name:e,route:e}}else if(typeof g=="string"){let me=W(g,m);me?X=me:X={name:g,route:g}}else X=g;let ge=A({resource:X,meta:I(p,d)}),{mutationMode:Ke}=ke(),Ee=l!=null?l:Ke,ve=_==="create",pe=_==="edit",ne=_==="clone";(0,xn.default)((ne||pe)&&Boolean(e)&&!Boolean(r),`[useForm]: action: "${_}", resource: "${Q}", id: ${k} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let tr=Eo({redirectFromProps:a,action:_,redirectOptions:U.redirect}),Tt=k!==void 0&&(pe||ne),st=Nt({resource:X==null?void 0:X.name,id:k!=null?k:"",queryOptions:{enabled:Tt,...y},liveMode:c,onLiveEvent:T,liveParams:R,meta:ge,metaData:ge,dataProviderName:M}),{isFetching:Ae}=st,Se=Ht({mutationOptions:f}),{mutate:Lt,isLoading:rr}=Se,nt=Io({mutationOptions:C}),{mutate:or,isLoading:It}=nt,{setWarnWhen:Ue}=Kt(),Rt=Cn();return{...ve||ne?{formLoading:Ae||rr,mutationResult:Se,onFinish:async me=>{Ue(!1);let Fe=Ne=>{Rt({redirect:tr,resource:X,id:Ne,meta:d})};return Ee!=="pessimistic"&&setTimeout(()=>{Fe()}),new Promise((Ne,at)=>{if(Ee!=="pessimistic"&&Ne(),!!X)return Lt({values:me,resource:X.name,successNotification:n,errorNotification:u,meta:ge,metaData:ge,dataProviderName:M,invalidates:i},{onSuccess:(Qe,qe,it)=>{var At;o&&o(Qe,me,it);let ut=(At=Qe==null?void 0:Qe.data)==null?void 0:At.id;Fe(ut),Ne(Qe)},onError:(Qe,qe,it)=>{if(s)return s(Qe,me,it);at()}})})}}:{formLoading:Ae||It,mutationResult:nt,onFinish:async me=>{if(Ue(!1),!X)return;let Fe={id:k!=null?k:"",values:me,resource:X.name,mutationMode:Ee,undoableTimeout:D,successNotification:n,errorNotification:u,meta:ge,metaData:ge,dataProviderName:M,invalidates:i},Ne=()=>{Rt({redirect:tr,resource:X,id:k,meta:d})};return Ee!=="pessimistic"&&setTimeout(()=>{Ne()}),new Promise((at,Qe)=>(Ee!=="pessimistic"&&at(),setTimeout(()=>{or(Fe,{onSuccess:(qe,it,ut)=>{o&&o(qe,me,ut),Ee==="pessimistic"&&Ne(),at(qe)},onError:(qe,it,ut)=>{if(s)return s(qe,me,ut);Qe()}})})))}},queryResult:st,id:k,setId:J,redirect:(me,Fe)=>{Rt({redirect:me!==void 0?me:pe?"list":"edit",resource:X,id:Fe!=null?Fe:k,meta:d})}}};var Pn=b("react");var Cn=()=>{let{show:e,edit:t,list:r,create:o}=ie();return(0,Pn.useCallback)(({redirect:a,resource:n,id:u,meta:p={}})=>{if(a&&n)return!!n.show&&a==="show"&&u?e(n,u,void 0,p):!!n.edit&&a==="edit"&&u?t(n,u,void 0,p):!!n.create&&a==="create"?o(n,void 0,p):r(n,"push",p)},[])};var Nr=S(b("react")),ue=()=>{let e=(0,Nr.useContext)(je);return Nr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.go)!=null?o:()=>()=>{}},[e==null?void 0:e.go])()};var Hr=S(b("react")),Ko=()=>{let e=(0,Hr.useContext)(je);return Hr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.back)!=null?o:()=>()=>{}},[e==null?void 0:e.back])()};var ie=()=>{let{resources:e}=V(),t=$(),{useHistory:r}=j(),o=r(),s=Y(),a=ue(),n=Ko(),u=(m,x="push")=>{t==="legacy"?o[x](m):a({to:m,type:x})},p=(m,x={})=>{var g,E,P;if(t==="legacy"){let v=typeof m=="string"?(g=W(m,e,!0))!=null?g:{name:m,route:m}:m,h=fe(v,e,!0).find(L=>L.action==="create");return h?Te(h.route,v==null?void 0:v.meta,s,x):""}else{let v=typeof m=="string"?(E=W(m,e))!=null?E:{name:m}:m,h=(P=fe(v,e).find(L=>L.action==="create"))==null?void 0:P.route;return h?a({to:Te(h,v==null?void 0:v.meta,s,x),type:"path"}):""}},d=(m,x,g={})=>{var P,v,h;let E=encodeURIComponent(x);if(t==="legacy"){let L=typeof m=="string"?(P=W(m,e,!0))!=null?P:{name:m,route:m}:m,w=fe(L,e,!0).find(A=>A.action==="edit");return w?Te(w.route,L==null?void 0:L.meta,s,{...g,id:E}):""}else{let L=typeof m=="string"?(v=W(m,e))!=null?v:{name:m}:m,w=(h=fe(L,e).find(A=>A.action==="edit"))==null?void 0:h.route;return w?a({to:Te(w,L==null?void 0:L.meta,s,{...g,id:E}),type:"path"}):""}},l=(m,x,g={})=>{var P,v,h;let E=encodeURIComponent(x);if(t==="legacy"){let L=typeof m=="string"?(P=W(m,e,!0))!=null?P:{name:m,route:m}:m,w=fe(L,e,!0).find(A=>A.action==="clone");return w?Te(w.route,L==null?void 0:L.meta,s,{...g,id:E}):""}else{let L=typeof m=="string"?(v=W(m,e))!=null?v:{name:m}:m,w=(h=fe(L,e).find(A=>A.action==="clone"))==null?void 0:h.route;return w?a({to:Te(w,L==null?void 0:L.meta,s,{...g,id:E}),type:"path"}):""}},c=(m,x,g={})=>{var P,v,h;let E=encodeURIComponent(x);if(t==="legacy"){let L=typeof m=="string"?(P=W(m,e,!0))!=null?P:{name:m,route:m}:m,w=fe(L,e,!0).find(A=>A.action==="show");return w?Te(w.route,L==null?void 0:L.meta,s,{...g,id:E}):""}else{let L=typeof m=="string"?(v=W(m,e))!=null?v:{name:m}:m,w=(h=fe(L,e).find(A=>A.action==="show"))==null?void 0:h.route;return w?a({to:Te(w,L==null?void 0:L.meta,s,{...g,id:E}),type:"path"}):""}},T=(m,x={})=>{var g,E,P;if(t==="legacy"){let v=typeof m=="string"?(g=W(m,e,!0))!=null?g:{name:m,route:m}:m,h=fe(v,e,!0).find(L=>L.action==="list");return h?Te(h.route,v==null?void 0:v.meta,s,x):""}else{let v=typeof m=="string"?(E=W(m,e))!=null?E:{name:m}:m,h=(P=fe(v,e).find(L=>L.action==="list"))==null?void 0:P.route;return h?a({to:Te(h,v==null?void 0:v.meta,s,x),type:"path"}):""}};return{create:(m,x="push",g={})=>{u(p(m,g),x)},createUrl:p,edit:(m,x,g="push",E={})=>{u(d(m,x,E),g)},editUrl:d,clone:(m,x,g="push",E={})=>{u(l(m,x,E),g)},cloneUrl:l,show:(m,x,g="push",E={})=>{u(c(m,x,E),g)},showUrl:c,list:(m,x="push",g={})=>{u(T(m,g),x)},listUrl:T,push:(m,...x)=>{t==="legacy"?o.push(m,...x):a({to:m,type:"push"})},replace:(m,...x)=>{t==="legacy"?o.replace(m,...x):a({to:m,type:"replace"})},goBack:()=>{t==="legacy"?o.goBack():n()}}};var Or=S(b("react")),bn=S(b("warn-once"));var mf=({resource:e,id:t,successNotification:r,errorNotification:o,meta:s,metaData:a,liveMode:n,onLiveEvent:u,dataProviderName:p,queryOptions:d}={})=>{let l=$(),{resources:c}=V(),{useParams:T}=j(),{resource:R,id:D}=Y(),{resource:M,id:i}=T(),y=K(),f=R==null?void 0:R.name,C=!e||e===(l==="legacy"?M:f)?t!=null?t:l==="legacy"?i:D:t,[U,m]=(0,Or.useState)(C);Or.default.useEffect(()=>{m(C)},[C]);let x=e!=null?e:l==="legacy"?M:f,g,E=rt();if(l==="legacy")x&&(g=E(x));else if(e){let h=W(e,c);h?g=h:g={name:e,route:e}}else if(typeof R=="string"){let h=W(R,c);h?g=h:g={name:R,route:R}}else g=R;let P=y({resource:g,meta:I(s,a)});return(0,bn.default)(Boolean(e)&&!Boolean(t),`[useShow]: resource: "${x}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`),{queryResult:Nt({resource:g==null?void 0:g.name,id:U!=null?U:"",queryOptions:{enabled:U!==void 0,...d},successNotification:r,errorNotification:o,meta:P,metaData:P,liveMode:n,onLiveEvent:u,dataProviderName:p}),showId:U,setShowId:m}};var Et=b("react"),hn=b("papaparse"),vn=S(b("lodash-es/chunk"));var Cf=({resourceName:e,resource:t,mapData:r=l=>l,paparseOptions:o,batchSize:s=Number.MAX_SAFE_INTEGER,onFinish:a,meta:n,metaData:u,onProgress:p,dataProviderName:d}={})=>{let[l,c]=(0,Et.useState)(0),[T,R]=(0,Et.useState)(0),[D,M]=(0,Et.useState)(!1),{resource:i}=V(t!=null?t:e),y=So(),f=Ht(),C;s===1?C=f:C=y;let U=()=>{R(0),c(0),M(!1)},m=g=>{let E={succeeded:g.filter(P=>P.type==="success"),errored:g.filter(P=>P.type==="error")};a==null||a(E),M(!1)};(0,Et.useEffect)(()=>{p==null||p({totalAmount:T,processedAmount:l})},[T,l]);let x=({file:g})=>(U(),new Promise(E=>{M(!0),(0,hn.parse)(g,{complete:async({data:P})=>{let v=cr(P,r);if(R(v.length),s===1){let h=v.map(w=>async()=>{var H;return{response:await f.mutateAsync({resource:(H=i==null?void 0:i.name)!=null?H:"",values:w,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:I(n,u),metaData:I(n,u)}),value:w}}),L=await Tr(h,({response:w,value:A})=>(c(N=>N+1),{response:[w.data],type:"success",request:[A]}),(w,A)=>({response:[w],type:"error",request:[v[A]]}));E(L)}else{let h=(0,vn.default)(v,s),L=h.map(A=>async()=>{var k;return{response:await y.mutateAsync({resource:(k=i==null?void 0:i.name)!=null?k:"",values:A,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:I(n,u),metaData:I(n,u)}),value:A,currentBatchLength:A.length}}),w=await Tr(L,({response:A,currentBatchLength:N,value:H})=>(c(k=>k+N),{response:A.data,type:"success",request:H}),(A,N)=>({response:[A],type:"error",request:h[N]}));E(w)}},...o})}).then(E=>(m(E),E)));return{inputProps:{type:"file",accept:".csv",onChange:g=>{g.target.files&&g.target.files.length>0&&x({file:g.target.files[0]})}},mutationResult:C,isLoading:D,handleChange:x}};var _t=b("react"),bf=({defaultVisible:e=!1}={})=>{let[t,r]=(0,_t.useState)(e),o=(0,_t.useCallback)(()=>r(!0),[t]),s=(0,_t.useCallback)(()=>r(!1),[t]);return{visible:t,show:o,close:s}};var Dn=S(b("react"));var jt=()=>{let e=$(),{resource:t,resources:r}=V(),o=Y();return Dn.default.useCallback(({resource:a,action:n,meta:u})=>{var T;let p=a||t;if(!p)return;let l=(T=fe(p,r,e==="legacy").find(R=>R.action===n))==null?void 0:T.route;return l?Te(l,p==null?void 0:p.meta,o,u):void 0},[r,t,o])};var wa=({resource:e,action:t,meta:r,legacy:o})=>jt()({resource:e,action:t,meta:r,legacy:o});var $r=S(b("react")),lt=()=>{let e=(0,$r.useContext)(je);return e!=null&&e.Link?e.Link:({to:r,...o})=>$r.default.createElement("a",{href:r,...o})};var Un=b("react");var zo=S(b("react")),Ze={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Aa=zo.default.createContext(Ze),Zt=Aa,En=({children:e,useHistory:t,useLocation:r,useParams:o,Prompt:s,Link:a,routes:n})=>zo.default.createElement(Zt.Provider,{value:{useHistory:t!=null?t:Ze.useHistory,useLocation:r!=null?r:Ze.useLocation,useParams:o!=null?o:Ze.useParams,Prompt:s!=null?s:Ze.Prompt,Link:a!=null?a:Ze.Link,routes:n!=null?n:Ze.routes}},e);var j=()=>{let e=(0,Un.useContext)(Zt),{useHistory:t,useLocation:r,useParams:o,Prompt:s,Link:a,routes:n}=e!=null?e:Ze;return{useHistory:t,useLocation:r,useParams:o,Prompt:s,Link:a,routes:n}};var Ln=b("@tanstack/react-query"),In=b("react");var _o=S(b("react"));var mt=_o.default.createContext({}),Mn=({can:e,children:t})=>_o.default.createElement(mt.Provider,{value:{can:e}},t);var Gr=e=>{let{icon:t,list:r,edit:o,create:s,show:a,clone:n,children:u,meta:p,options:d,...l}=e,{icon:c,...T}=p!=null?p:{},{icon:R,...D}=d!=null?d:{};return{...l,...p?{meta:T}:{},...d?{options:D}:{}}};var wn=({action:e,resource:t,params:r,queryOptions:o})=>{let{can:s}=(0,In.useContext)(mt),{resource:a,...n}=r!=null?r:{},u=Gr(a!=null?a:{}),p=(0,Ln.useQuery)(["useCan",{action:e,resource:t,params:{...n,resource:u},enabled:o==null?void 0:o.enabled}],()=>{var d;return(d=s==null?void 0:s({action:e,resource:t,params:n}))!=null?d:Promise.resolve({can:!0})},{enabled:typeof s<"u",...o,retry:!1});return typeof s>"u"?{data:{can:!0}}:p};var An=b("react");var oy=()=>{let{can:e}=(0,An.useContext)(mt);return{can:e}};var Ye=b("react"),Sn=S(b("lodash/uniqBy")),Qn=S(b("lodash/debounce")),Yt=S(b("lodash/get"));var ly=e=>{var Ke,Ee,ve;let[t,r]=(0,Ye.useState)([]),[o,s]=(0,Ye.useState)([]),[a,n]=(0,Ye.useState)([]),{resource:u,sort:p,sorters:d,filters:l=[],optionLabel:c="title",optionValue:T="id",debounce:R=300,successNotification:D,errorNotification:M,defaultValueQueryOptions:i,queryOptions:y,fetchSize:f,pagination:C,hasPagination:U=!1,liveMode:m,defaultValue:x=[],onLiveEvent:g,onSearch:E,liveParams:P,meta:v,metaData:h,dataProviderName:L}=e,{resources:w}=V(),A=K(),N=W(u,w),H=(Ke=N==null?void 0:N.name)!=null?Ke:u,k=A({resource:N,meta:I(v,h)}),J=Array.isArray(x)?x:[x],Q=(0,Ye.useCallback)(pe=>{n(pe.data.map(ne=>({label:(0,Yt.default)(ne,c),value:(0,Yt.default)(ne,T)})))},[c,T]),O=i!=null?i:y,_=Uo({resource:H,ids:J,queryOptions:{...O,enabled:J.length>0&&((Ee=i==null?void 0:i.enabled)!=null?Ee:!0),onSuccess:pe=>{var ne;Q(pe),(ne=O==null?void 0:O.onSuccess)==null||ne.call(O,pe)}},meta:k,metaData:k,liveMode:"off",dataProviderName:L}),Be=(0,Ye.useCallback)(pe=>{s(pe.data.map(ne=>({label:(0,Yt.default)(ne,c),value:(0,Yt.default)(ne,T)})))},[c,T]),X=Ft({resource:H,sorters:I(d,p),filters:l.concat(t),pagination:{current:C==null?void 0:C.current,pageSize:(ve=C==null?void 0:C.pageSize)!=null?ve:f,mode:C==null?void 0:C.mode},hasPagination:U,queryOptions:{...y,onSuccess:pe=>{var ne;Be(pe),(ne=y==null?void 0:y.onSuccess)==null||ne.call(y,pe)}},successNotification:D,errorNotification:M,meta:k,metaData:k,liveMode:m,liveParams:P,onLiveEvent:g,dataProviderName:L}),ge=pe=>{if(E){r(E(pe));return}if(pe)r([{field:c,operator:"contains",value:pe}]);else{r([]);return}};return{queryResult:X,defaultValueQueryResult:_,options:(0,Ye.useMemo)(()=>(0,Sn.default)([...o,...a],"value"),[o,a]),onSearch:(0,Qn.default)(ge,R)}};var Ge=S(b("react")),jo=S(b("qs")),Jt=S(b("lodash/differenceWith")),Xt=S(b("lodash/isEqual")),Bn=S(b("warn-once"));var kn=[],Vn=[];function Ry({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:o,initialSorter:s,permanentSorter:a=Vn,defaultSetFilterBehavior:n,initialFilter:u,permanentFilter:p=kn,filters:d,sorters:l,syncWithLocation:c,resource:T,successNotification:R,errorNotification:D,queryOptions:M,liveMode:i,onLiveEvent:y,liveParams:f,meta:C,metaData:U,dataProviderName:m}={}){var es,ts,rs,os,ss,ns,as,is,us,cs;let{syncWithLocation:x}=Go(),g=c!=null?c:x,E=_s(i),P=$(),{useLocation:v}=j(),{search:h,pathname:L}=v(),w=K(),A=Y(),N=((d==null?void 0:d.mode)||"server")==="server",H=((l==null?void 0:l.mode)||"server")==="server",k=r===!1?"off":"server",J=((es=o==null?void 0:o.mode)!=null?es:k)!=="off",Q=I(o==null?void 0:o.current,e),O=I(o==null?void 0:o.pageSize,t),_=I(C,U),{parsedCurrent:Be,parsedPageSize:X,parsedSorter:ge,parsedFilters:Ke}=dr(h!=null?h:"?"),Ee=I(d==null?void 0:d.initial,u),ve=(ts=I(d==null?void 0:d.permanent,p))!=null?ts:kn,pe=I(l==null?void 0:l.initial,s),ne=(rs=I(l==null?void 0:l.permanent,a))!=null?rs:Vn,tr=(os=I(d==null?void 0:d.defaultBehavior,n))!=null?os:"merge",Tt,st,Ae,Se;g?(Tt=((ss=A==null?void 0:A.params)==null?void 0:ss.current)||Be||Q||1,st=((ns=A==null?void 0:A.params)==null?void 0:ns.pageSize)||X||O||10,Ae=((as=A==null?void 0:A.params)==null?void 0:as.sorters)||(ge.length?ge:pe),Se=((is=A==null?void 0:A.params)==null?void 0:is.filters)||(Ke.length?Ke:Ee)):(Tt=Q||1,st=O||10,Ae=pe,Se=Ee);let{replace:Lt}=ie(),rr=ue(),{resource:nt}=V(T),or=w({resource:nt,meta:_}),It=nt==null?void 0:nt.name;Ge.default.useEffect(()=>{(0,Bn.default)(typeof It>"u","useTable: `resource` is not defined.")},[It]);let[Ue,Rt]=(0,Ge.useState)(yr(ne,Ae!=null?Ae:[])),[xt,wt]=(0,Ge.useState)(fr(ve,Se!=null?Se:[])),[Ct,zr]=(0,Ge.useState)(Tt),[Xe,me]=(0,Ge.useState)(st),Fe=({pagination:{current:de,pageSize:Me},sorter:sr,filters:nr})=>{var ar;if(P==="new")return(ar=rr({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...J?{current:de,pageSize:Me}:{},sorters:sr,filters:nr,...Ne()}}))!=null?ar:"";{let St=jo.default.parse(h==null?void 0:h.substring(1)),_r=lr({pagination:{pageSize:Me,current:de},sorters:Ue!=null?Ue:sr,filters:nr,...St});return`${L!=null?L:""}?${_r!=null?_r:""}`}};(0,Ge.useEffect)(()=>{h===""&&(zr(Tt),me(st),Rt(yr(ne,Ae!=null?Ae:[])),wt(fr(ve,Se!=null?Se:[])))},[h]);let Ne=()=>{var de;if(P==="new"){let{sorters:Me,filters:sr,pageSize:nr,current:ar,...St}=(de=A==null?void 0:A.params)!=null?de:{};return St}else{let{sorter:Me,filters:sr,pageSize:nr,current:ar,...St}=jo.default.parse(h,{ignoreQueryPrefix:!0});return St}};(0,Ge.useEffect)(()=>{if(g){let de=Ne();if(P==="new")rr({type:"replace",options:{keepQuery:!0},query:{...J?{pageSize:Xe,current:Ct}:{},sorters:(0,Jt.default)(Ue,ne,Xt.default),filters:(0,Jt.default)(xt,ve,Xt.default)}});else{let Me=lr({...J?{pagination:{pageSize:Xe,current:Ct}}:{},sorters:(0,Jt.default)(Ue,ne,Xt.default),filters:(0,Jt.default)(xt,ve,Xt.default),...de});return Lt==null?void 0:Lt(`${L}?${Me}`,void 0,{shallow:!0})}}},[g,Ct,Xe,Ue,xt]);let at=Ft({resource:It,hasPagination:r,pagination:{current:Ct,pageSize:Xe,mode:o==null?void 0:o.mode},filters:N?bt(ve,xt):void 0,sorters:H?mr(ne,Ue):void 0,queryOptions:M,successNotification:R,errorNotification:D,meta:or,metaData:or,liveMode:E,liveParams:f,onLiveEvent:y,dataProviderName:m}),Qe=de=>{wt(Me=>bt(ve,de,Me))},qe=de=>{wt(bt(ve,de))},it=de=>{wt(Me=>bt(ve,de(Me)))},ut=(de,Me=tr)=>{typeof de=="function"?it(de):Me==="replace"?qe(de):Qe(de)},At=de=>{Rt(()=>mr(ne,de))};return{tableQueryResult:at,sorters:Ue,setSorters:At,sorter:Ue,setSorter:At,filters:xt,setFilters:ut,current:Ct,setCurrent:zr,pageSize:Xe,setPageSize:me,pageCount:Xe?Math.ceil(((cs=(us=at.data)==null?void 0:us.total)!=null?cs:0)/Xe):1,createLinkForSyncWithLocation:Fe}}var Yo=b("react"),qt=b("@tanstack/react-query");var Zo=S(b("react")),ft=Zo.default.createContext({}),Fn=({create:e,get:t,update:r,children:o})=>Zo.default.createElement(ft.Provider,{value:{create:e,get:t,update:r}},o);var Ie=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,qt.useQueryClient)(),o=(0,Yo.useContext)(ft),s=G(),{resources:a}=(0,Yo.useContext)(tt),{data:n,refetch:u,isLoading:p}=Yr({v3LegacyAuthProviderCompatible:Boolean(s==null?void 0:s.isLegacy),queryOptions:{enabled:!!o}}),d=(0,qt.useMutation)(async c=>{var M,i,y,f,C;let T=W(c.resource,a),R=I((M=T==null?void 0:T.meta)==null?void 0:M.audit,(i=T==null?void 0:T.options)==null?void 0:i.audit,(f=(y=T==null?void 0:T.options)==null?void 0:y.auditLog)==null?void 0:f.permissions);if(R&&!To(R,c.action))return;let D;return p&&(D=await u()),await((C=o.create)==null?void 0:C.call(o,{...c,author:n!=null?n:D==null?void 0:D.data}))},e),l=(0,qt.useMutation)(async c=>{var T;return await((T=o.update)==null?void 0:T.call(o,c))},{onSuccess:c=>{if(c!=null&&c.resource){let T=ee(c==null?void 0:c.resource);r.invalidateQueries(T.logList())}},...t});return{log:d,rename:l}};var Nn=b("react"),Hn=b("@tanstack/react-query");var Qy=({resource:e,action:t,meta:r,author:o,metaData:s,queryOptions:a})=>{let{get:n}=(0,Nn.useContext)(ft),u=ee(e,void 0,s);return(0,Hn.useQuery)(u.logList(r),()=>{var d;return(d=n==null?void 0:n({resource:e,action:t,author:o,meta:r,metaData:s}))!=null?d:Promise.resolve([])},{enabled:typeof n<"u",...a,retry:!1})};var On=b("react"),$n=b("@tanstack/react-query");var we=()=>{let{resources:e}=V(),t=(0,$n.useQueryClient)();return(0,On.useCallback)(({resource:o,dataProviderName:s,invalidates:a,id:n})=>{if(a===!1)return;let u=ee(o,B(o,s,e));a.forEach(p=>{switch(p){case"all":t.invalidateQueries(u.all);break;case"list":t.invalidateQueries(u.list());break;case"many":t.invalidateQueries(u.many());break;case"resourceAll":t.invalidateQueries(u.resourceAll);break;case"detail":t.invalidateQueries(u.detail(n||""));break;default:break}})},[])};var Gn=b("react"),Wn=S(b("warn-once"));var Jy=({meta:e={}}={})=>{let t=$(),{i18nProvider:r}=(0,Gn.useContext)(Ve),o=Y(),s=F(),{resources:a,resource:n,action:u}=V(),p=[];if(!(n!=null&&n.name))return{breadcrumbs:p};let d=l=>{var T,R,D,M,i,y,f,C;let c=typeof l=="string"?(T=W(l,a,t==="legacy"))!=null?T:{name:l}:l;if(c){let U=I((R=c==null?void 0:c.meta)==null?void 0:R.parent,c==null?void 0:c.parentName);U&&d(U);let m=fe(c,a,t==="legacy").find(E=>E.action==="list"),x=(D=m==null?void 0:m.resource)!=null&&D.list?m==null?void 0:m.route:void 0,g=x?t==="legacy"?x:Te(x,c==null?void 0:c.meta,o,e):void 0;p.push({label:(y=I((M=c.meta)==null?void 0:M.label,(i=c.options)==null?void 0:i.label))!=null?y:s(`${c.name}.${c.name}`,pt(c.name)),href:g,icon:I((f=c.meta)==null?void 0:f.icon,(C=c.options)==null?void 0:C.icon,c.icon)})}};if(d(n),u&&u!=="list"){let l=`actions.${u}`,c=s(l);typeof r<"u"&&c===l?((0,Wn.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),p.push({label:s(`buttons.${u}`,pt(u))})):p.push({label:s(l,pt(u))})}return{breadcrumbs:p}};var Wr=S(b("react"));var Ut=(e,t,r=!1)=>{let o=[],s=De(e,t);for(;s;)o.push(s),s=De(s,t);return o.reverse(),`/${[...o,e].map(n=>{var u,p;return ye((p=(u=r?n.route:void 0)!=null?u:n.identifier)!=null?p:n.name)}).join("/").replace(/^\//,"")}`};var Kn=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(s=>{var d,l;let a=[],n=De(s,e);for(;n;)a.push(n),n=De(n,e);a.reverse();let u=r;a.forEach(c=>{var R,D;let T=(D=(R=t?c.route:void 0)!=null?R:c.identifier)!=null?D:c.name;u.children[T]||(u.children[T]={item:c,children:{}}),u=u.children[T]});let p=(l=(d=t?s.route:void 0)!=null?d:s.identifier)!=null?l:s.name;u.children[p]||(u.children[p]={item:s,children:{}})});let o=s=>{let a=[];return Object.keys(s.children).forEach(n=>{let u=Ut(s.children[n].item,e,t),p={...s.children[n].item,key:u,children:o(s.children[n])};a.push(p)}),a};return o(r)};var zn=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),Sa=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=F(),o=jt(),s=$(),{resource:a,resources:n}=V(),{pathname:u}=Y(),{useLocation:p}=j(),{pathname:d}=p(),l=s==="legacy"?zn(d):u?zn(u):void 0,c=`/${(l!=null?l:"").replace(/^\//,"")}`,T=a?Ut(a,n,s==="legacy"):c!=null?c:"",R=Wr.default.useMemo(()=>{if(!a)return[];let i=De(a,n),y=[Ut(a,n)];for(;i;)y.push(Ut(i,n)),i=De(i,n);return y},[]),D=Wr.default.useCallback(i=>{var f,C,U,m,x,g,E,P;if(((U=(f=i==null?void 0:i.meta)==null?void 0:f.hide)!=null?U:(C=i==null?void 0:i.options)==null?void 0:C.hide)||!(i!=null&&i.list)&&i.children.length===0)return;let y=i.list?o({resource:i,action:"list",legacy:s==="legacy",meta:e}):void 0;if(!(t&&y&&y.match(/(\/|^):(.+?)(\/|$){1}/)))return{...i,route:y,icon:I((m=i.meta)==null?void 0:m.icon,(x=i.options)==null?void 0:x.icon,i.icon),label:(P=I((g=i==null?void 0:i.meta)==null?void 0:g.label,(E=i==null?void 0:i.options)==null?void 0:E.label))!=null?P:r(`${i.name}.${i.name}`,ht(i.name,"plural"))}},[s,e,r,t]),M=Wr.default.useMemo(()=>{let i=Kn(n,s==="legacy"),y=f=>f.flatMap(C=>{let U=y(C.children),m=D({...C,children:U});return m?[m]:[]});return y(i)},[n,s,D]);return{defaultOpenKeys:R,selectedKey:T,menuItems:M}};var K=()=>{let{params:e}=Y();return({resource:r,meta:o}={})=>{let{meta:s}=Gr(r!=null?r:{}),{filters:a,sorters:n,current:u,pageSize:p,...d}=e!=null?e:{};return{...s,...d,...o}}};var Qa=()=>{let[e,t]=(0,We.useState)(),r=F(),{push:o}=ie(),s=ue(),a=$(),{resource:n,action:u}=V();return(0,We.useEffect)(()=>{n&&u&&t(r("pages.error.info",{action:u,resource:n==null?void 0:n.name},`You may have forgotten to add the "${u}" component to "${n==null?void 0:n.name}" resource.`))},[n,u]),We.default.createElement(We.default.Fragment,null,We.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&We.default.createElement("p",null,e),We.default.createElement("button",{onClick:()=>{a==="legacy"?o("/"):s({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))};var le=S(b("react"));var vo=()=>{let[e,t]=(0,le.useState)(""),[r,o]=(0,le.useState)(""),s=F(),a=G(),{mutate:n}=Qt({v3LegacyAuthProviderCompatible:Boolean(a==null?void 0:a.isLegacy)});return le.default.createElement(le.default.Fragment,null,le.default.createElement("h1",null,s("pages.login.title","Sign in your account")),le.default.createElement("form",{onSubmit:u=>{u.preventDefault(),n({username:e,password:r})}},le.default.createElement("table",null,le.default.createElement("tbody",null,le.default.createElement("tr",null,le.default.createElement("td",null,s("pages.login.username",void 0,"username"),":"),le.default.createElement("td",null,le.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),le.default.createElement("tr",null,le.default.createElement("td",null,s("pages.login.password",void 0,"password"),":"),le.default.createElement("td",null,le.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>o(u.target.value)}))))),le.default.createElement("br",null),le.default.createElement("input",{type:"submit",value:"login"})))};var yt=S(b("react"));var q=S(b("react"));var _n=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:s,wrapperProps:a,renderContent:n,formProps:u,title:p=void 0})=>{let d=$(),l=lt(),{Link:c}=j(),T=d==="legacy"?c:l,[R,D]=(0,q.useState)(""),[M,i]=(0,q.useState)(""),[y,f]=(0,q.useState)(!1),C=F(),U=G(),{mutate:m}=Qt({v3LegacyAuthProviderCompatible:Boolean(U==null?void 0:U.isLegacy)}),x=(P,v)=>P?typeof P=="string"?q.default.createElement(T,{to:P},v):P:null,g=()=>e?e.map(P=>{var v;return q.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},q.default.createElement("button",{onClick:()=>m({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,(v=P.label)!=null?v:q.default.createElement("label",null,P.label)))}):null,E=q.default.createElement("div",{...s},q.default.createElement("h1",{style:{textAlign:"center"}},C("pages.login.title","Sign in to your account")),g(),q.default.createElement("hr",null),q.default.createElement("form",{onSubmit:P=>{P.preventDefault(),m({email:R,password:M,remember:y})},...u},q.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},q.default.createElement("label",null,C("pages.login.fields.email","Email")),q.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:R,onChange:P=>D(P.target.value)}),q.default.createElement("label",null,C("pages.login.fields.password","Password")),q.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:M,onChange:P=>i(P.target.value)}),o!=null?o:q.default.createElement(q.default.Fragment,null,q.default.createElement("label",null,C("pages.login.buttons.rememberMe","Remember me"),q.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:y,value:y.toString(),onChange:()=>{f(!y)}}))),q.default.createElement("br",null),r!=null?r:x("/forgot-password",C("pages.login.buttons.forgotPassword","Forgot password?")),q.default.createElement("input",{type:"submit",value:C("pages.login.signin","Sign in")}),t!=null?t:q.default.createElement("span",null,C("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",x("/register",C("pages.login.register","Sign up"))))));return q.default.createElement("div",{...a},n?n(E,p):E)};var ce=S(b("react"));var jn=({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:s,formProps:a,title:n=void 0})=>{let u=$(),p=lt(),{Link:d}=j(),l=u==="legacy"?d:p,[c,T]=(0,ce.useState)(""),[R,D]=(0,ce.useState)(""),M=F(),i=G(),{mutate:y,isLoading:f}=oo({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),C=(x,g)=>x?typeof x=="string"?ce.default.createElement(l,{to:x},g):x:null,U=()=>e?e.map(x=>{var g;return ce.default.createElement("div",{key:x.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ce.default.createElement("button",{onClick:()=>y({providerName:x.name}),style:{display:"flex",alignItems:"center"}},x==null?void 0:x.icon,(g=x.label)!=null?g:ce.default.createElement("label",null,x.label)))}):null,m=ce.default.createElement("div",{...o},ce.default.createElement("h1",{style:{textAlign:"center"}},M("pages.register.title","Sign up for your account")),U(),ce.default.createElement("hr",null),ce.default.createElement("form",{onSubmit:x=>{x.preventDefault(),y({email:c,password:R})},...a},ce.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ce.default.createElement("label",null,M("pages.register.fields.email","Email")),ce.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:x=>T(x.target.value)}),ce.default.createElement("label",null,M("pages.register.fields.password","Password")),ce.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:R,onChange:x=>D(x.target.value)}),ce.default.createElement("input",{type:"submit",value:M("pages.register.buttons.submit","Sign up"),disabled:f}),t!=null?t:ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("span",null,M("pages.login.buttons.haveAccount","Have an account?")," ",C("/login",M("pages.login.signin","Sign in")))))));return ce.default.createElement("div",{...r},s?s(m,n):m)};var xe=S(b("react"));var Zn=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:s,title:a=void 0})=>{let n=F(),u=$(),p=lt(),{Link:d}=j(),l=u==="legacy"?d:p,[c,T]=(0,xe.useState)(""),{mutate:R,isLoading:D}=ao(),M=(y,f)=>y?typeof y=="string"?xe.default.createElement(l,{to:y},f):y:null,i=xe.default.createElement("div",{...r},xe.default.createElement("h1",{style:{textAlign:"center"}},n("pages.forgotPassword.title","Forgot your password?")),xe.default.createElement("hr",null),xe.default.createElement("form",{onSubmit:y=>{y.preventDefault(),R({email:c})},...s},xe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},xe.default.createElement("label",null,n("pages.forgotPassword.fields.email","Email")),xe.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:y=>T(y.target.value)}),xe.default.createElement("input",{type:"submit",disabled:D,value:n("pages.forgotPassword.buttons.submit","Send reset instructions")}),xe.default.createElement("br",null),e!=null?e:xe.default.createElement("span",null,n("pages.register.buttons.haveAccount","Have an account? ")," ",M("/login",n("pages.login.signin","Sign in"))))));return xe.default.createElement("div",{...t},o?o(i,a):i)};var Ce=S(b("react"));var Yn=({wrapperProps:e,contentProps:t,renderContent:r,formProps:o,title:s=void 0})=>{let a=F(),n=G(),{mutate:u,isLoading:p}=co({v3LegacyAuthProviderCompatible:Boolean(n==null?void 0:n.isLegacy)}),[d,l]=(0,Ce.useState)(""),[c,T]=(0,Ce.useState)(""),R=Ce.default.createElement("div",{...t},Ce.default.createElement("h1",{style:{textAlign:"center"}},a("pages.updatePassword.title","Update Password")),Ce.default.createElement("hr",null),Ce.default.createElement("form",{onSubmit:D=>{D.preventDefault(),u({password:d,confirmPassword:c})},...o},Ce.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ce.default.createElement("label",null,a("pages.updatePassword.fields.password","New Password")),Ce.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:d,onChange:D=>l(D.target.value)}),Ce.default.createElement("label",null,a("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ce.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:c,onChange:D=>T(D.target.value)}),Ce.default.createElement("input",{type:"submit",disabled:p,value:a("pages.updatePassword.buttons.submit","Update")}))));return Ce.default.createElement("div",{...e},r?r(R,s):R)};var ka=e=>{let{type:t}=e;return yt.default.createElement(yt.default.Fragment,null,(()=>{switch(t){case"register":return yt.default.createElement(jn,{...e});case"forgotPassword":return yt.default.createElement(Zn,{...e});case"updatePassword":return yt.default.createElement(Yn,{...e});default:return yt.default.createElement(_n,{...e})}})())};var Pe=S(b("react")),Jo=()=>Pe.default.createElement(Pe.default.Fragment,null,Pe.default.createElement("h1",null,"Welcome on board"),Pe.default.createElement("p",null,"Your configuration is completed."),Pe.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Pe.default.createElement("code",null,"`resources`")," property of ",Pe.default.createElement("code",null,"`<Refine>`")),Pe.default.createElement("div",{style:{display:"flex",gap:8}},Pe.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Pe.default.createElement("button",null,"Documentation")),Pe.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Pe.default.createElement("button",null,"Examples")),Pe.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Pe.default.createElement("button",null,"Community"))));var z=S(b("react"));var Va=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:z.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:z.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),z.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:z.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),z.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:z.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Ba=()=>{let e=br("(max-width: 1010px)"),t=br("(max-width: 650px)"),r=()=>t?"1, 280px":e?"2, 280px":"4, 208px",o=()=>t?"32px":e?"40px":"48px",s=()=>t?"16px":e?"20px":"24px";return z.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},z.default.createElement("div",{style:{height:"89px"}}),z.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},z.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),z.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),z.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},z.default.createElement("h1",{style:{fontSize:o(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),z.default.createElement("h4",{style:{fontSize:s(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),z.default.createElement("div",{style:{height:"64px"}}),z.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},Va.map(a=>z.default.createElement(Fa,{key:`welcome-page-${a.title}`,card:a}))),z.default.createElement("div",{style:{height:"64px"}}))},Fa=({card:e})=>{let{title:t,description:r,icon:o,link:s}=e,[a,n]=(0,z.useState)(!1);return z.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},z.default.createElement("div",{style:{display:"flex",alignItems:"center"}},z.default.createElement("a",{onPointerEnter:()=>n(!0),onPointerLeave:()=>n(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:s},o,z.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),z.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...a&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},z.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),z.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))};var te=S(b("react")),er=b("@tanstack/react-query"),ra=b("@tanstack/react-query-devtools");var Xn=b("react");var ot=b("react");var Na="4.14.3",Jn=()=>{let e=mo(),t=(0,ot.useContext)(ft),r=(0,ot.useContext)(_e),o=(0,ot.useContext)(Zt),s=(0,ot.useContext)(Ot),{i18nProvider:a}=(0,ot.useContext)(Ve),n=(0,ot.useContext)(Gt),u=(0,ot.useContext)(mt),{resources:p}=V(),d=!!t.create||!!t.get||!!t.update,l=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),c=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,T=!!s,R=!!(a!=null&&a.changeLocale)||!!(a!=null&&a.getLocale)||!!(a!=null&&a.translate),D=!!n.close||!!n.open,M=!!u.can;return{providers:{auth:e,auditLog:d,live:l,router:c,data:T,i18n:R,notification:D,accessControl:M},version:Na,resourceCount:p.length}};var Ha=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},qn=()=>{let e=Jn();return(0,Xn.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${Ha(e)}`},[]),null};var ea=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(s=>!t.includes(s));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1};var Xo=S(b("react")),ta=e=>{let t=Xo.default.useRef(!1);Xo.default.useEffect(()=>{t.current===!1&&e&&ea(e)&&(t.current=!0)},[e])};var Oa=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:o,routerProvider:s,notificationProvider:a,accessControlProvider:n,auditLogProvider:u,resources:p,DashboardPage:d,ReadyPage:l,LoginPage:c,catchAll:T,children:R,liveProvider:D,i18nProvider:M,Title:i,Layout:y,Sider:f,Header:C,Footer:U,OffLayoutArea:m,onLiveEvent:x,options:g})=>{let{optionsWithDefaults:E,disableTelemetryWithDefault:P,reactQueryWithDefaults:v}=Do({options:g}),h=wr(()=>{var N;return v.clientConfig instanceof er.QueryClient?v.clientConfig:new er.QueryClient({...v.clientConfig,defaultOptions:{...v.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(N=v.clientConfig.defaultOptions)==null?void 0:N.queries}}})},[v.clientConfig]),w=te.default.useMemo(()=>typeof a=="function"?a:()=>a!=null?a:{},[a])();if(ta(s),o&&!s&&(p!=null?p:[]).length===0)return l?te.default.createElement(l,null):te.default.createElement(Jo,null);let{RouterComponent:A=te.default.Fragment}=s?{}:o!=null?o:{};return te.default.createElement(er.QueryClientProvider,{client:h},te.default.createElement(un,{...w},te.default.createElement(ls,{...e!=null?e:{},isProvided:Boolean(e)},te.default.createElement(fs,{...t!=null?t:{},isProvided:Boolean(t)},te.default.createElement($s,{...r},te.default.createElement(Ws,{liveProvider:D},te.default.createElement(tn,{value:o&&!s?"legacy":"new"},te.default.createElement(on,{router:s},te.default.createElement(En,{...o},te.default.createElement(qs,{resources:p!=null?p:[]},te.default.createElement(dn,{i18nProvider:M},te.default.createElement(Mn,{...n!=null?n:{}},te.default.createElement(Fn,{...u!=null?u:{}},te.default.createElement(Mo,null,te.default.createElement(Ls,{mutationMode:E.mutationMode,warnWhenUnsavedChanges:E.warnWhenUnsavedChanges,syncWithLocation:E.syncWithLocation,Title:i,undoableTimeout:E.undoableTimeout,catchAll:T,DashboardPage:d,LoginPage:c,Layout:y,Sider:f,Footer:U,Header:C,OffLayoutArea:m,hasDashboard:!!d,liveMode:E.liveMode,onLiveEvent:x,options:E},te.default.createElement(mn,null,te.default.createElement(A,null,R,!P&&te.default.createElement(qn,null),te.default.createElement(qo,null))))))))))))))))),v.devtoolConfig===!1?null:te.default.createElement(ra.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...v.devtoolConfig}))};var Kr=b("react");var ks=({notification:e})=>{let t=F(),{notificationDispatch:r}=$e(),{open:o}=be(),[s,a]=(0,Kr.useState)(),n=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||o==null||o({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:kt(e.seconds)},`You have ${kt(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:kt(e.seconds)}),e.seconds>0)){s&&clearTimeout(s);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);a(u)}};return(0,Kr.useEffect)(()=>{n()},[e]),null};var Mt=S(b("react"));var $a=({children:e,Layout:t,Sider:r,Header:o,Title:s,Footer:a,OffLayoutArea:n})=>{let{Layout:u,Footer:p,Header:d,Sider:l,Title:c,OffLayoutArea:T}=zt(),R=t!=null?t:u;return Mt.default.createElement(R,{Sider:r!=null?r:l,Header:o!=null?o:d,Footer:a!=null?a:p,Title:s!=null?s:c,OffLayoutArea:n!=null?n:T},e,Mt.default.createElement(Ga,null))},Ga=()=>{let{Prompt:e}=j(),t=F(),{warnWhen:r,setWarnWhen:o}=Kt(),s=a=>(a.preventDefault(),a.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),a.returnValue);return(0,Mt.useEffect)(()=>(r&&window.addEventListener("beforeunload",s),window.removeEventListener("beforeunload",s)),[r]),Mt.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:o})};var he=S(b("react"));var Wa=()=>{let e=ue(),[t,r]=he.default.useState(void 0);return he.default.useEffect(()=>{t&&e(t)},[t]),he.default.useCallback(s=>{t||r(s)},[t])};function Ka({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:o,loading:s}){var E;let a=G(),n=$(),u=Boolean(a==null?void 0:a.isProvided),p=Boolean(a==null?void 0:a.isLegacy),d=n==="legacy",l=Y(),c=ue(),T=Wa(),{replace:R}=ie(),{useLocation:D}=j(),M=D(),{isLoading:i,isFetching:y,isSuccess:f,data:{authenticated:C,redirectTo:U}={},refetch:m}=ur({v3LegacyAuthProviderCompatible:p});he.default.useEffect(()=>{m()},[r,o]);let x=he.default.useRef({status:i?"initial":"pending",content:s!=null?s:null});y?x.current.status="pending":y||(x.current.status="settled");let g=u?p?f:C:!0;if(x.current.status==="settled")if(g)x.current.content=he.default.createElement(he.default.Fragment,null,r!=null?r:null);else if(typeof o<"u")x.current.content=he.default.createElement(he.default.Fragment,null,o);else{let P=`${d?M==null?void 0:M.pathname:l.pathname}`.replace(/(\?.*|#.*)$/,""),v=p?typeof e=="string"?e:"/login":typeof e=="string"?e:U;if(v)if(d){let h=t?`?to=${encodeURIComponent(P)}`:"";R(`${v}${h}`)}else T({to:v,query:t?{to:(E=l.params)!=null&&E.to?l.params.to:c({to:P,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return u?he.default.createElement(he.default.Fragment,null,x.current.content):he.default.createElement(he.default.Fragment,null,r!=null?r:null)}var oa=b("react");var qo=()=>{let{useLocation:e}=j(),{checkAuth:t}=re(),r=e();return(0,oa.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null};var gt=S(b("react"));var za=({resource:e,action:t,params:r,fallback:o,children:s,...a})=>{var m,x;let n=$(),{resources:u}=V(),{useParams:p}=j(),{resource:d,id:l,action:c}=Y(),{resource:T,id:R,action:D}=p(),M=d==null?void 0:d.name,i=!e||e===(n==="legacy"?T:M)?(m=r==null?void 0:r.id)!=null?m:n==="legacy"?R:l:r==null?void 0:r.id,y=e!=null?e:n==="legacy"?T:M,f,C=rt();if(n==="legacy")y&&(f=C(y));else if(e){let g=W(e,u);g?f=g:f={name:e,route:e}}else if(typeof d=="string"){let g=W(d,u);g?f=g:f={name:d,route:d}}else f=d;let{data:U}=wn({resource:e!=null?e:f==null?void 0:f.name,action:(x=t!=null?t:n==="legacy"?D:c)!=null?x:"",params:r!=null?r:{id:i,resource:f}});return U!=null&&U.can?gt.default.isValidElement(s)?gt.default.cloneElement(s,a):gt.default.createElement(gt.default.Fragment,null,s):(U==null?void 0:U.can)===!1?gt.default.createElement(gt.default.Fragment,null,o!=null?o:null):null};var Je=S(b("react"));var sa=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `];var _a=()=>((0,Je.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),sa.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Je.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},Je.default.createElement("div",{style:{width:"200px"}}),Je.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},Je.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Je.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),Je.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))));})();
//# sourceMappingURL=index.js.map